/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/jsuites@2.8.0/dist/jsuites.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.jSuites=t()}(this,function(){"use strict";var jSuites=function(e){var t={init:function(){var e=document.querySelector(".japp");t.el=e||document.body;for(var n=document.querySelectorAll("[data-autoload]"),o=0;o<n.length;o++){var i=n[o].getAttribute("data-autoload");"function"==typeof window[i]&&window[i](n[o])}},guid:function(){for(var e="",t=0;t<32;t++)e+=Math.floor(15*Math.random()).toString(15);return e},getWindowWidth:function(){var e=window,t=document,n=t.documentElement,o=t.getElementsByTagName("body")[0];return e.innerWidth||n.clientWidth||o.clientWidth},getWindowHeight:function(){var e=window,t=document,n=t.documentElement,o=t.getElementsByTagName("body")[0];return e.innerHeight||n.clientHeight||o.clientHeight},getPosition:function(e){if(e.changedTouches&&e.changedTouches[0])var t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY;else t=window.Event?e.pageX:e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),n=window.Event?e.pageY:e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[t,n]},click:function(e){if(e.click)e.click();else{var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}},getElement:function(e,t){var n=!1;return function e(o){o.className&&o.classList.contains(t)&&(n=o),o.parentNode&&e(o.parentNode)}(e),n},getLinkElement:function(e){var t=!1;return function e(n){"A"!=n.tagName&&"DIV"!=n.tagName||!n.getAttribute("data-href")||(t=n),n.parentNode&&e(n.parentNode)}(e),t},getFormElements:function(e){var t={};if(e)var n=e.querySelectorAll("input, select, textarea");else n=document.querySelectorAll("input, select, textarea");for(var o=0;o<n.length;o++){var i=n[o],a=i.name,r=i.value;a&&(t[a]=r)}return t},exists:function(e,t){var n=new XMLHttpRequest;n.open("HEAD",e,!1),n.send(),n.status&&t(n.status)},getFiles:function(e){e||console.error("No element defined in the arguments of your method");var t=e.querySelectorAll(".jfile");if(t.length>0){for(var n=[],o=0;o<t.length;o++){var i={},a=t[o].getAttribute("src");t[o].classList.contains("jremove")?i.remove=1:("data"==a.substr(0,4)?(i.content=a.substr(a.indexOf(",")+1),i.extension=t[o].getAttribute("data-extension")):(i.file=a,i.extension=t[o].getAttribute("data-extension"),i.extension||(i.extension=a.substr(a.lastIndexOf(".")+1)),jSuites.files[i.file]&&(i.content=jSuites.files[i.file])),t[o].getAttribute("data-name")&&(i.name=t[o].getAttribute("data-name")),t[o].getAttribute("data-file")&&(i.file=t[o].getAttribute("data-file")),t[o].getAttribute("data-size")&&(i.size=t[o].getAttribute("data-size")),t[o].getAttribute("data-date")&&(i.date=t[o].getAttribute("data-date")),t[o].getAttribute("data-cover")&&(i.cover=t[o].getAttribute("data-cover"))),n[o]=i}return n}},ajax:function(e){if(e.data||(e.data={}),e.type&&(e.method=e.type),e.data){var n=[],o=Object.keys(e.data);if(o.length)for(var i=0;i<o.length;i++)if("object"==typeof e.data[o[i]])for(var a=e.data[o[i]],r=0;r<a.length;r++)if("string"==typeof a[r])n.push(o[i]+"["+r+"]="+encodeURIComponent(a[r]));else for(var s=Object.keys(a[r]),l=0;l<s.length;l++)n.push(o[i]+"["+r+"]["+s[l]+"]="+encodeURIComponent(a[r][s[l]]));else n.push(o[i]+"="+encodeURIComponent(e.data[o[i]]));"GET"==e.method&&n.length>0&&(e.url.indexOf("?")<0&&(e.url+="?"),e.url+=n.join("&"))}var d=new XMLHttpRequest;return d.open(e.method,e.url,!0),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"==e.method?(d.setRequestHeader("Accept","application/json"),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):"json"==e.dataType&&d.setRequestHeader("Content-Type","text/json"),1!=e.cache&&(d.setRequestHeader("pragma","no-cache"),d.setRequestHeader("cache-control","no-cache")),1==e.withCredentials&&(d.withCredentials=!0),"function"==typeof e.beforeSend&&e.beforeSend(d),d.onload=function(){if(200===d.status)if("json"==e.dataType)try{var n=JSON.parse(d.responseText);e.success&&"function"==typeof e.success&&e.success(n)}catch(t){e.error&&"function"==typeof e.error&&e.error(n)}else{n=d.responseText;e.success&&"function"==typeof e.success&&e.success(n)}else e.error&&"function"==typeof e.error&&e.error(d.responseText);if(t.ajax.requests&&t.ajax.requests.length){var o=t.ajax.requests.indexOf(d);t.ajax.requests.splice(o,1),t.ajax.requests.length||e.complete&&"function"==typeof e.complete&&e.complete(n)}},n?d.send(n.join("&")):d.send(),t.ajax.requests.push(d),d}};t.ajax.requests=[],t.slideLeft=function(e,t,n){1==t?(e.classList.add("slide-left-in"),setTimeout(function(){e.classList.remove("slide-left-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-left-out"),setTimeout(function(){e.classList.remove("slide-left-out"),"function"==typeof n&&n()},400))},t.slideRight=function(e,t,n){1==t?(e.classList.add("slide-right-in"),setTimeout(function(){e.classList.remove("slide-right-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-right-out"),setTimeout(function(){e.classList.remove("slide-right-out"),"function"==typeof n&&n()},400))},t.slideTop=function(e,t,n){1==t?(e.classList.add("slide-top-in"),setTimeout(function(){e.classList.remove("slide-top-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-top-out"),setTimeout(function(){e.classList.remove("slide-top-out"),"function"==typeof n&&n()},400))},t.slideBottom=function(e,t,n){1==t?(e.classList.add("slide-bottom-in"),setTimeout(function(){e.classList.remove("slide-bottom-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-bottom-out"),setTimeout(function(){e.classList.remove("slide-bottom-out"),"function"==typeof n&&n()},100))},t.fadeIn=function(e,t){e.classList.add("fade-in"),setTimeout(function(){e.classList.remove("fade-in"),"function"==typeof t&&t()},2e3)},t.fadeOut=function(e,t){e.classList.add("fade-out"),setTimeout(function(){e.classList.remove("fade-out"),"function"==typeof t&&t()},1e3)},t.keyDownControls=function(e){if(27==e.which){var t=document.querySelectorAll(".jslider");if(t.length>0)for(var n=0;n<t.length;n++)t[n].slider.close();document.querySelector(".jdialog")&&jSuites.dialog.close()}else 13==e.which&&document.querySelector(".jdialog")&&("function"==typeof jSuites.dialog.options.onconfirm&&jSuites.dialog.options.onconfirm(),jSuites.dialog.close());jSuites.mask&&jSuites.mask.apply(e)};var n=function(e){var t=null;if(t=jSuites.getLinkElement(e.target)){var n=t.getAttribute("data-href");"#back"==n?window.history.back():"#panel"==n?jSuites.panel():jSuites.pages(n)}};return document.addEventListener("swipeleft",function(e){var t;(t=jSuites.getElement(e.target,"option"))&&t.querySelector(".option-actions")?t.scrollTo({left:100,behavior:"smooth"}):(t=jSuites.getElement(e.target,"jcalendar"))&&jSuites.calendar.current?jSuites.calendar.current.prev():jSuites.panel&&(t=jSuites.panel.get())&&"none"!=t.style.display&&jSuites.panel.close()}),document.addEventListener("swiperight",function(e){var t;(t=jSuites.getElement(e.target,"option"))&&t.querySelector(".option-actions")?t.scrollTo({left:0,behavior:"smooth"}):(t=jSuites.getElement(e.target,"jcalendar"))&&jSuites.calendar.current?jSuites.calendar.current.next():jSuites.panel&&(t=jSuites.panel.get())&&"none"==t.style.display&&jSuites.panel()}),document.addEventListener("keydown",t.keyDownControls),"ontouchend"in document.documentElement==!0?document.addEventListener("touchend",n):document.addEventListener("mouseup",n),document.addEventListener("mouseover",function(e){jSuites.tooltip&&jSuites.tooltip(e)}),document.addEventListener("mouseout",function(e){jSuites.tooltip&&jSuites.tooltip.hide()}),document.addEventListener("DOMContentLoaded",function(){t.init()}),window.onpopstate=function(e){e.state&&e.state.route&&jSuites.pages.get(e.state.route)&&jSuites.pages(e.state.route,{ignoreHistory:!0})},t}();return jSuites.files=[],jSuites.calendar=function(e,t){var n={options:{}};jSuites.calendar.current||(jSuites.calendar.current=null);var o={data:null,type:null,validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdays_short:["S","M","T","W","T","F","S"],value:null,onclose:null,onchange:null,fullscreen:!1,mode:null,position:null,opened:!1};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];if(n.options.value||"INPUT"==e.tagName&&e.value&&(n.options.value=e.value),n.options.format=n.options.format.toUpperCase(),n.options.value){var a=(r=n.options.value.split(" "))[1],r=r[0].split("-"),s=parseInt(r[0]),l=parseInt(r[1]),d=parseInt(r[2]);if(a){a=a.split(":");var c=parseInt(a[0]),u=parseInt(a[1])}else c=0,u=0}else s=(r=new Date).getFullYear(),l=r.getMonth()+1,d=r.getDate(),c=r.getHours(),u=r.getMinutes();n.date=[s,l,d,c,u,0];var p=function(e){return 1==(e=""+e).length&&(e="0"+e),e},m=document.createElement("div");m.className="jcalendar-reset",m.innerHTML="Reset";var f=document.createElement("div");f.className="jcalendar-confirm",f.innerHTML="Done";var h=document.createElement("div");h.className="jcalendar-controls",n.options.resetButton&&h.appendChild(m),h.appendChild(f);var g=document.createElement("div");g.className="jcalendar-container";var v=document.createElement("div");v.className="jcalendar-content",v.appendChild(h),g.appendChild(v);var w=document.createElement("div");if(w.className="jcalendar-table",v.appendChild(w),"INPUT"==e.tagName)var y=document.createElement("div");else y=e;y.className="jcalendar",y.appendChild(g);var b=document.createElement("td");b.setAttribute("colspan","2"),b.className="jcalendar-prev";var j=document.createElement("span");j.className="jcalendar-year";var L=document.createElement("span");L.className="jcalendar-month";var E=document.createElement("td");E.className="jcalendar-header",E.setAttribute("colspan","3"),E.appendChild(L),E.appendChild(j);var S=document.createElement("td");S.setAttribute("colspan","2"),S.className="jcalendar-next";var C=document.createElement("tr");C.appendChild(b),C.appendChild(E),C.appendChild(S);var x=document.createElement("thead");x.appendChild(C);var T=document.createElement("tbody"),A=document.createElement("tfoot"),M=document.createElement("table");M.setAttribute("cellpadding","0"),M.setAttribute("cellspacing","0"),M.appendChild(x),M.appendChild(T),M.appendChild(A),w.appendChild(M);var N=document.createElement("select");N.className="jcalendar-select",N.onchange=function(){n.date[3]=this.value};for(u=0;u<24;u++){(H=document.createElement("option")).value=u,H.innerHTML=p(u),N.appendChild(H)}var O=document.createElement("select");O.className="jcalendar-select",O.onchange=function(){n.date[4]=this.value};for(u=0;u<60;u++){var H;(H=document.createElement("option")).value=u,H.innerHTML=p(u),O.appendChild(H)}var k=document.createElement("div");k.className="jcalendar-controls";var I=document.createElement("div");I.className="jcalendar-time",I.style.maxWidth="140px",I.appendChild(N),I.appendChild(O);var D=document.createElement("input");D.setAttribute("type","button"),D.className="jcalendar-update",D.value="Update";var P=document.createElement("div");P.style.flexGrow="10",P.appendChild(D),k.appendChild(I),k.appendChild(P),v.appendChild(k);var R=document.createElement("div");R.className="jcalendar-backdrop",y.appendChild(R);var q=function(){var e=y.querySelector(".jcalendar-selected");e&&e.classList.contains("jcalendar-disabled")?(D.setAttribute("disabled","disabled"),N.setAttribute("disabled","disabled"),O.setAttribute("disabled","disabled")):(D.removeAttribute("disabled"),N.removeAttribute("disabled"),O.removeAttribute("disabled"))};n.open=function(t){if(!y.classList.contains("jcalendar-focus"))if(jSuites.calendar.current&&jSuites.calendar.current.close(),jSuites.calendar.current=n,y.classList.add("jcalendar-focus"),n.getDays(),n.options.time&&(N.value=n.date[3],O.value=n.date[4]),jSuites.getWindowWidth()<800||n.options.fullscreen)y.classList.add("jcalendar-fullsize"),jSuites.slideBottom(v,1);else{const t=e.getBoundingClientRect(),o=v.getBoundingClientRect();n.options.position?(g.style.position="fixed",window.innerHeight<t.bottom+o.height?g.style.top=t.top-(o.height+2)+"px":g.style.top=t.top+t.height+2+"px",g.style.left=t.left+"px"):window.innerHeight<t.bottom+o.height?g.style.bottom=1*t.height+o.height+2+"px":g.style.top="2px"}},n.close=function(t,o){if(jSuites.calendar.current){if(jSuites.calendar.current=null,!1!==o){var i=y.querySelector(".jcalendar-selected");if("string"==typeof o)var a=o;else if(i&&i.classList.contains("jcalendar-disabled"))a=n.options.value;else a=n.getValue();n.setValue(a)}t||"function"!=typeof n.options.onclose||n.options.onclose(e),y.classList.remove("jcalendar-focus")}return n.options.value},n.prev=function(){"years"==n.options.mode?(n.date[0]=n.date[0]-12,n.getYears()):(n.date[1]<2?(n.date[0]=n.date[0]-1,n.date[1]=12):n.date[1]=n.date[1]-1,n.getDays())},n.next=function(){"years"==n.options.mode?(n.date[0]=parseInt(n.date[0])+12,n.getYears()):(n.date[1]>11?(n.date[0]=parseInt(n.date[0])+1,n.date[1]=1):n.date[1]=parseInt(n.date[1])+1,n.getDays())},n.setValue=function(t){t||(t=""+t);var o=t,i=n.options.value;n.setLabel(o,n.options.format);(r=o.split(" "))[1]||(r[1]="00:00:00");var a=r[1].split(":"),r=r[0].split("-"),s=parseInt(r[0]),l=parseInt(r[1]),d=parseInt(r[2]),c=parseInt(a[0]),u=parseInt(a[1]);n.date=[s,l,d,c,u,0];t=n.setLabel(o,n.options.format);i!=o&&("INPUT"==e.tagName&&(e.value=t),n.options.value=o,"function"==typeof n.options.onchange&&n.options.onchange(e,o,i)),n.getDays()},n.getValue=function(){return n.date?n.options.time?p(n.date[0])+"-"+p(n.date[1])+"-"+p(n.date[2])+" "+p(n.date[3])+":"+p(n.date[4])+":"+p(0):p(n.date[0])+"-"+p(n.date[1])+"-"+p(n.date[2])+" "+p(0)+":"+p(0)+":"+p(0):""},n.update=function(e){if(e.classList.contains("jcalendar-disabled"));else{n.date[2]=e.innerText,n.options.time?(n.date[3]=N.value,n.date[4]=O.value):n.close();var t=y.querySelector(".jcalendar-selected");t&&t.classList.remove("jcalendar-selected"),e.classList.add("jcalendar-selected")}q()},n.reset=function(){n.close(!1,"")},n.getDays=function(){n.options.mode="days";var e=new Date,t=n.date&&n.date[0]?n.date[0]:parseInt(e.getFullYear()),o=n.date&&n.date[1]?n.date[1]:parseInt(e.getMonth())+1,i=n.date&&n.date[2]?n.date[2]:parseInt(e.getDay()),a=n.date&&n.date[3]?n.date[3]:parseInt(e.getHours()),r=n.date&&n.date[4]?n.date[4]:parseInt(e.getMinutes());n.date=[t,o,i,a,r,0],j.innerHTML=t,L.innerHTML=n.options.months[o-1];var s=e.getMonth()==o-1&&e.getFullYear()==t,l=e.getDate(),d=(e=new Date(t,o,0,0,0)).getDate(),c=(e=new Date(t,o-1,0,0,0)).getDay()+1;c-=p=n.options.startingDay||0,T.innerHTML="",(h=document.createElement("tr")).setAttribute("align","center"),T.appendChild(h);for(var u=0;u<7;u++){(v=document.createElement("td")).classList.add("jcalendar-weekday"),v.innerHTML=n.options.weekdays_short[p],h.appendChild(v),++p>6&&(p=0)}for(var p=0,m=0,f=0;f<5;f++){var h;(h=document.createElement("tr")).setAttribute("align","center");var g=!0;for(u=0;u<7;u++){var v;if((v=document.createElement("td")).classList.add("jcalendar-set-day"),p>=c&&p<c+d){m++,v.innerHTML=m,m==i&&v.classList.add("jcalendar-selected"),s&&l==m&&(v.style.fontWeight="bold");var w=jSuites.calendar.now(new Date(t,o-1,m),!0);if(n.options.validRange){if(!n.options.validRange[0]||w>=n.options.validRange[0])var y=!0;else y=!1;if(!n.options.validRange[1]||w<=n.options.validRange[1])var b=!0;else b=!1;y&&b||v.classList.add("jcalendar-disabled")}g=!1}h.appendChild(v),p++}0==g&&T.appendChild(h)}n.options.time?I.style.display="":I.style.display="none",q()},n.getMonths=function(){n.options.mode="months";var e=n.options.months;j.innerHTML=n.date[0],L.innerHTML="";var t='<td colspan="7"><table width="100%"><tr align="center">';for(u=0;u<12;u++){u>0&&!(u%4)&&(t+='</tr><tr align="center">'),t+='<td class="jcalendar-set-month" data-value="'+(parseInt(u)+1)+'">'+e[u]+"</td>"}t+="</tr></table></td>",T.innerHTML=t},n.getYears=function(){n.options.mode="years";var e=[];for(u=0;u<25;u++)e[u]=parseInt(n.date[0])+(u-12);var t='<td colspan="7"><table width="100%"><tr align="center">';for(u=0;u<25;u++)u>0&&!(u%5)&&(t+='</tr><tr align="center">'),t+='<td class="jcalendar-set-year">'+e[u]+"</td>";t+="</tr></table></td>",T.innerHTML=t},n.setLabel=function(e,t){return jSuites.calendar.getDateString(e,t)},n.fromFormatted=function(e,t){return jSuites.calendar.extractDateFromString(e,t)};var B=function(e){var t=e.target.className;"jcalendar-prev"==t?(n.prev(),e.stopPropagation(),e.preventDefault()):"jcalendar-next"==t?(n.next(),e.stopPropagation(),e.preventDefault()):"jcalendar-month"==t?(n.getMonths(),e.stopPropagation(),e.preventDefault()):"jcalendar-year"==t?(n.getYears(),e.stopPropagation(),e.preventDefault()):"jcalendar-set-year"==t?(n.date[0]=e.target.innerText,n.getDays(),e.stopPropagation(),e.preventDefault()):"jcalendar-set-month"==t?(n.date[1]=parseInt(e.target.getAttribute("data-value")),n.getDays(),e.stopPropagation(),e.preventDefault()):"jcalendar-confirm"==t||"jcalendar-update"==t?(n.close(),e.stopPropagation(),e.preventDefault()):"jcalendar-close"==t?(n.close(),e.stopPropagation(),e.preventDefault()):"jcalendar-backdrop"==t?(n.close(!1,!1),e.stopPropagation(),e.preventDefault()):"jcalendar-reset"==t?(n.reset(),e.stopPropagation(),e.preventDefault()):e.target.classList.contains("jcalendar-set-day")&&e.target.innerText&&(n.update(e.target),e.stopPropagation(),e.preventDefault())};return e.addEventListener("keyup",function(e){if(e.target.value&&e.target.value.length>3){var t=jSuites.calendar.extractDateFromString(e.target.value,n.options.format);t&&"true"==e.target.getAttribute("data-completed")&&n.setValue(t)}}),y.addEventListener("swipeleft",function(e){jSuites.slideLeft(M,0,function(){n.next(),jSuites.slideRight(M,1)}),e.preventDefault(),e.stopPropagation()}),y.addEventListener("swiperight",function(e){jSuites.slideRight(M,0,function(){n.prev(),jSuites.slideLeft(M,1)}),e.preventDefault(),e.stopPropagation()}),"ontouchend"in document.documentElement==!0?(y.addEventListener("touchend",B),e.addEventListener("touchend",function(e){n.open()})):(y.addEventListener("mouseup",B),e.addEventListener("mouseup",function(e){n.open()})),"INPUT"==e.tagName&&(e.parentNode.insertBefore(y,e.nextSibling),e.setAttribute("autocomplete","off"),e.setAttribute("data-mask",n.options.format.toLowerCase()),n.options.readonly&&e.setAttribute("readonly","readonly"),n.options.placeholder&&e.setAttribute("placeholder",n.options.placeholder),e.classList.add("jcalendar-input"),e.value=n.setLabel(n.getValue(),n.options.format)),e.calendar=n,1==n.options.opened&&n.open(),n},jSuites.calendar.prettify=function(e,t){if(!t)t={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"};var n=new Date,o=new Date(e),i=parseInt((n-o)/1e3/60);if(String.prototype.format=function(e){return this.replace("{0}",e)},0==i)var a=t.justNow;else if(i<90)a=t.xMinutesAgo.format(i);else if(i<1440)a=t.xHoursAgo.format(Math.round(i/60));else if(i<20160)a=t.xDaysAgo.format(Math.round(i/1440));else if(i<43200)a=t.xWeeksAgo.format(Math.round(i/10080));else if(i<1036800)a=t.xMonthsAgo.format(Math.round(i/43200));else a=t.xYearsAgo.format(Math.round(i/525600));return a},jSuites.calendar.prettifyAll=function(){for(var e=document.querySelectorAll(".prettydate"),t=0;t<e.length;t++)e[t].getAttribute("data-date")?e[t].innerHTML=jSuites.calendar.prettify(e[t].getAttribute("data-date")):(e[t].setAttribute("data-date",e[t].innerHTML),e[t].innerHTML=jSuites.calendar.prettify(e[t].innerHTML))},jSuites.calendar.now=function(e,t){if(!e)e=new Date;var n=e.getFullYear(),o=e.getMonth()+1,i=e.getDate(),a=e.getHours(),r=e.getMinutes(),s=e.getSeconds(),l=function(e){return 1==(e=""+e).length&&(e="0"+e),e};return 1==t?l(n)+"-"+l(o)+"-"+l(i):l(n)+"-"+l(o)+"-"+l(i)+" "+l(a)+":"+l(r)+":"+l(s)},jSuites.calendar.extractDateFromString=function(e,t){var n=""+e,o=t.replace(/[0-9]/g,""),i=1,a=o.search("YYYY");a=n.substr(a,4),parseInt(a)!=a&&(i=0);var r=o.search("MM");r=n.substr(r,2),(parseInt(r)!=r||s>12)&&(i=0);var s=o.search("DD");s=n.substr(s,2),(parseInt(s)!=s||s>31)&&(i=0);var l=o.search("HH");l>=0?(l=n.substr(l,2),(!parseInt(l)||l>23)&&(l="00")):l="00";var d=o.search("MI");d>=0?(d=n.substr(d,2),(!parseInt(d)||d>59)&&(d="00")):d="00";var c=o.search("SS");return c>=0?(c=n.substr(c,2),(!parseInt(c)||c>59)&&(c="00")):c="00",1==i&&e.length==o.length?a+"-"+r+"-"+s+" "+l+":"+d+":"+c:""},jSuites.calendar.getDateString=function(e,t){if(!t)t="DD/MM/YYYY";if(e){var n=""+e,o="",i="",a="";if((n=n.split(" "))[1]?(i=(o=n[1].split(":"))[1]?o[1]:"00",a=o[2]?o[2]:"00",o=o[0]?o[0]:"00"):(o="00",i="00",a="00"),(n=n[0].split("-"))[0]&&n[1]&&n[2]&&n[0]>0&&n[1]>0&&n[1]<13&&n[2]>0&&n[2]<32){var r=new Date(n[0],n[1]-1,n[2]),s=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"),l=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");n[1]=(n[1].length<2?"0":"")+n[1],n[2]=(n[2].length<2?"0":"")+n[2],o=(o.length<2?"0":"")+o,i=(i.length<2?"0":"")+i,a=(a.length<2?"0":"")+a,e=(e=(e=(e=(e=(e=(e=t).replace("WD",s[r.getDay()])).replace("DD",n[2])).replace("MM",n[1])).replace("YYYY",n[0])).replace("YY",n[0].substring(2,4))).replace("MON",l[parseInt(n[1])-1].toUpperCase()),o&&(e=e.replace("HH24",o)),e=(e=(e=(e=o>12?(e=e.replace("HH12",o-12)).replace("HH",o):(e=e.replace("HH12",o)).replace("HH",o)).replace("MI",i)).replace("MM",i)).replace("SS",a)}else e=""}return e},jSuites.calendar.isOpen=function(e){jSuites.calendar.current&&(e.target.className&&-1!=e.target.className.indexOf("jcalendar")||jSuites.calendar.current.close(!1,!1))},"ontouchstart"in document.documentElement==!0?document.addEventListener("touchstart",jSuites.calendar.isOpen):document.addEventListener("mousedown",jSuites.calendar.isOpen),jSuites.color=function(e,t){var n={options:{},values:[]};jSuites.color.current||(jSuites.color.current=null);var o={placeholder:"",value:null,onclose:null,onchange:null,closeOnChange:!0};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];for(var a={red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},lightgreen:{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100"},deeporange:{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},bluegrey:{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"}},r=[],s=Object.keys(a),l=Object.keys(a[s[0]]),d=0;d<s.length;d++)for(var c=0;c<l.length;c++)r[c]||(r[c]=[]),r[c][d]=a[s[d]][l[c]];n.options.value&&(e.value=n.options.value);var u=document.createElement("div");u.className="jcolor";var p=document.createElement("div");p.className="jcolor-backdrop",u.appendChild(p);var m=document.createElement("div");m.className="jcolor-content";var f=document.createElement("div");f.className="jcolor-close",f.innerHTML="Done",f.onclick=function(){n.close()},m.appendChild(f);var h=document.createElement("table");h.setAttribute("cellpadding","7"),h.setAttribute("cellspacing","0");for(d=0;d<r.length;d++){var g=document.createElement("tr");for(c=0;c<r[d].length;c++){var v=document.createElement("td");v.style.backgroundColor=r[d][c],v.setAttribute("data-value",r[d][c]),v.innerHTML="",g.appendChild(v),n.options.value==r[d][c]&&v.classList.add("jcolor-selected"),n.values[r[d][c]]=v}h.appendChild(g)}return n.open=function(){if(jSuites.color.current&&jSuites.color.current!=n&&jSuites.color.current.close(),!jSuites.color.current){jSuites.color.current=n,u.classList.add("jcolor-focus");const t=m.getBoundingClientRect();if(jSuites.getWindowWidth()<800)m.style.top="",m.classList.add("jcolor-fullscreen"),jSuites.slideBottom(m,1),p.style.display="block";else{m.classList.contains("jcolor-fullscreen")&&(m.classList.remove("jcolor-fullscreen"),p.style.display="");const n=e.getBoundingClientRect();window.innerHeight<n.bottom+t.height?m.style.top=-1*(t.height+n.height+2)+"px":m.style.top="2px"}u.focus()}},n.close=function(t){return jSuites.color.current&&(jSuites.color.current=null,t||"function"!=typeof n.options.onclose||n.options.onclose(e),u.classList.remove("jcolor-focus")),p.style.display="",n.options.value},n.setValue=function(t){t&&(e.value=t,n.options.value=t);var o=u.querySelector(".jcolor-selected");o&&o.classList.remove("jcolor-selected"),n.values[t].classList.add("jcolor-selected"),"function"==typeof n.options.onchange&&n.options.onchange(e,t),1==n.options.closeOnChange&&n.close()},n.getValue=function(){return n.options.value},e.addEventListener("focus",function(e){n.open()}),e.addEventListener("mousedown",function(e){jSuites.color.current||setTimeout(function(){n.open(),e.preventDefault()},200)}),u.addEventListener("mouseup",function(e){"TD"==e.target.tagName&&(jSuites.color.current.setValue(e.target.getAttribute("data-value")),jSuites.color.current&&jSuites.color.current.close())}),document.addEventListener("mousedown",function(e){jSuites.color.current&&(jSuites.getElement(e.target,"jcolor")||jSuites.color.current.close())}),u.setAttribute("tabindex","900"),n.options.placeholder&&e.setAttribute("placeholder",n.options.placeholder),m.appendChild(h),u.appendChild(m),"INPUT"==e.tagName?e.parentNode.insertBefore(u,e.nextSibling):e.appendChild(u),e.color=n,n},jSuites.contextmenu=function(e,t){var n={options:{}},o={items:null,onclick:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];return e.classList.add("jcontextmenu"),e.setAttribute("tabindex","900"),n.open=function(t,o){if(o&&(n.options.items=o,n.create(o)),t.target)var i=t.clientX,a=t.clientY;else i=t.x,a=t.y;e.classList.add("jcontextmenu-focus"),e.focus();const r=e.getBoundingClientRect();window.innerHeight<a+r.height?e.style.top=a-r.height+"px":e.style.top=a+"px",window.innerWidth<i+r.width?i-r.width>0?e.style.left=i-r.width+"px":e.style.left="10px":e.style.left=i+"px"},n.close=function(){e.classList.contains("jcontextmenu-focus")&&e.classList.remove("jcontextmenu-focus")},n.create=function(t){e.innerHTML="";for(var n=0;n<t.length;n++){if(t[n].type&&"line"==t[n].type)var o=document.createElement("hr");else{o=document.createElement("div");var i=document.createElement("a");if(i.innerHTML=t[n].title,t[n].disabled?o.className="jcontextmenu-disabled":t[n].onclick&&(o.method=t[n].onclick,o.addEventListener("mouseup",function(){this.method(this)})),o.appendChild(i),t[n].shortcut){var a=document.createElement("span");a.innerHTML=t[n].shortcut,o.appendChild(a)}}e.appendChild(o)}},"function"==typeof n.options.onclick&&e.addEventListener("click",function(e){n.options.onclick(n)}),e.addEventListener("blur",function(e){setTimeout(function(){n.close()},120)}),window.addEventListener("mousewheel",function(){n.close()}),n.options.items&&n.create(n.options.items),e.contextmenu=n,n},jSuites.contextmenu.getElement=function(e){var t=0;return function e(n){n.parentNode&&n.getAttribute("aria-contextmenu-id")?t=n.getAttribute("aria-contextmenu-id"):n.parentNode&&e(n.parentNode)}(e),t},document.addEventListener("contextmenu",function(e){var t=jSuites.contextmenu.getElement(e.target);if(t){var n=document.querySelector("#"+t);n?(n.contextmenu.open(e),e.preventDefault()):console.error("JSUITES: Contextmenu id not found")}}),jSuites.dialog=function(){var e={options:{}},t=document.createElement("div");t.setAttribute("tabindex","901"),t.className="jdialog",t.id="dialog";var n=document.createElement("div");n.className="jdialog-header";var o=document.createElement("div");o.className="jdialog-title",n.appendChild(o);var i=document.createElement("div");i.className="jdialog-message",n.appendChild(i);var a=document.createElement("div");a.className="jdialog-footer";var r=document.createElement("div");r.className="jdialog-container",r.appendChild(n),r.appendChild(a);var s=document.createElement("div"),l=document.createElement("input");l.value=e.options.confirmLabel,l.type="button",l.onclick=function(){"function"==typeof e.options.onconfirm&&e.options.onconfirm(),e.close()},s.appendChild(l),a.appendChild(s);var d=document.createElement("div"),c=document.createElement("input");return c.value=e.options.cancelLabel,c.type="button",c.onclick=function(){"function"==typeof e.options.oncancel&&e.options.oncancel(),e.close()},d.appendChild(c),a.appendChild(d),t.appendChild(r),e.open=function(n){e.options=n,e.options.title&&(o.innerHTML=e.options.title),e.options.message&&(i.innerHTML=e.options.message),e.options.confirmLabel||(e.options.confirmLabel="OK"),l.value=e.options.confirmLabel,e.options.cancelLabel||(e.options.cancelLabel="Cancel"),c.value=e.options.cancelLabel,"confirm"==e.options.type?c.parentNode.style.display="":c.parentNode.style.display="none",t.style.opacity=100,jSuites.el?jSuites.el.appendChild(t):document.body.appendChild(t),t.focus(),setTimeout(function(){r.style.opacity=100},0)},e.close=function(){t.style.opacity=0,r.style.opacity=0,setTimeout(function(){t.remove()},100)},e}(),jSuites.confirm=function(e,t){jSuites.getWindowWidth()<800?jSuites.dialog.open({type:"confirm",message:e,title:"Confirmation",onconfirm:t}):confirm(e)&&t()},jSuites.alert=function(e){jSuites.getWindowWidth()<800?jSuites.dialog.open({title:"Alert",message:e}):alert(e)},jSuites.dropdown=function(e,t){var n={options:{}};if("SELECT"==e.tagName){var o=jSuites.dropdown.extractFromDom(e,t);e=o.el,t=o.options}var i={url:null,data:[],multiple:!1,autocomplete:!1,type:null,width:null,opened:!1,value:null,placeholder:"",position:!1,onchange:null,onload:null,onopen:null,onclose:null,onblur:null};for(var a in i)t&&t.hasOwnProperty(a)?n.options[a]=t[a]:n.options[a]=i[a];jSuites.dropdown.current||(jSuites.dropdown.current=null),n.items=[],n.groups=[],n.selected=[],e.classList.add("jdropdown"),"searchbar"==n.options.type?e.classList.add("jdropdown-searchbar"):"list"==n.options.type?e.classList.add("jdropdown-list"):"picker"==n.options.type?e.classList.add("jdropdown-picker"):jSuites.getWindowWidth()<800?(e.classList.add("jdropdown-picker"),n.options.type="picker"):(n.options.width&&(e.style.width=n.options.width,e.style.minWidth=n.options.width),e.classList.add("jdropdown-default"),n.options.type="default");var r=document.createElement("div");r.className="jdropdown-container-header";var s=document.createElement("input");s.className="jdropdown-header","function"==typeof n.options.onblur&&(s.onblur=function(){n.options.onblur(e)});var l=document.createElement("div");l.className="jdropdown-container";var d=document.createElement("div");d.className="jdropdown-content";var c=document.createElement("div");c.className="jdropdown-close",c.innerHTML="Done";var u=document.createElement("div");if(u.className="jdropdown-backdrop",1==n.options.autocomplete){e.setAttribute("data-autocomplete",!0);var p=null;s.addEventListener("keyup",function(t){p&&clearTimeout(p),p=setTimeout(function(){n.find(s.value),p=null},500),e.classList.contains("jdropdown-focus")||t.which>65&&n.open()})}else s.setAttribute("readonly","readonly");return!n.options.placeholder&&e.getAttribute("placeholder")&&(n.options.placeholder=e.getAttribute("placeholder")),n.options.placeholder&&s.setAttribute("placeholder",n.options.placeholder),r.appendChild(s),"searchbar"==n.options.type?r.appendChild(c):l.appendChild(c),l.appendChild(d),e.appendChild(r),e.appendChild(l),e.appendChild(u),n.init=function(){n.options.url?jSuites.ajax({url:n.options.url,method:"GET",dataType:"json",success:function(t){t&&(n.setData(t),null!=n.options.value&&n.setValue(n.options.value),"function"==typeof n.options.onload&&n.options.onload(e,n,t))}}):(n.setData(),null!=n.options.value&&n.setValue(n.options.value),"function"==typeof n.options.onload&&n.options.onload(e,n,data)),1==n.options.opened&&n.open()},n.getUrl=function(){return n.options.url},n.setUrl=function(e){n.options.url=e,jSuites.ajax({url:n.options.url,method:"GET",dataType:"json",success:function(e){n.setData(e)}})},n.createItem=function(e){var t={};if(t.element=document.createElement("div"),t.element.className="jdropdown-item",t.value=e.id,t.text=e.name,t.textLowerCase=""+e.name.toLowerCase(),e.image){var n=document.createElement("img");n.className="jdropdown-image",n.src=e.image,e.title||n.classList.add("jdropdown-image-small"),t.element.appendChild(n)}var o=document.createElement("div");if(o.className="jdropdown-description",o.innerHTML=e.name,e.title){var i=document.createElement("div");i.className="jdropdown-title",i.innerHTML=e.title,o.appendChild(i)}return t.element.appendChild(o),t},n.setData=function(e){e&&(n.options.data=e);e=n.options.data;l.removeChild(d),d.innerHTML="",n.reset(),n.items=[];var t=[],o=[];if(e.length){for(var i=0;i<e.length;i++)"object"!=typeof e[i]&&(n.options.data[i]=e[i]={id:e[i],name:e[i]}),e[i].group?(o[e[i].group]||(o[e[i].group]=[]),o[e[i].group].push(i)):t.push(i);var a=Object.keys(o);if(a.length>0)for(i=0;i<a.length;i++){var r=document.createElement("div");r.className="jdropdown-group";var s=document.createElement("div");s.className="jdropdown-group-name",s.innerHTML=a[i];var c=document.createElement("i");c.className="jdropdown-group-arrow jdropdown-group-arrow-down",s.appendChild(c);var u=document.createElement("div");u.className="jdropdown-group-items";for(var p=0;p<o[a[i]].length;p++){var m=n.createItem(e[o[a[i]][p]]);u.appendChild(m.element),n.items.push(m)}r.appendChild(s),r.appendChild(c),r.appendChild(u),d.appendChild(r)}if(t.length)for(i=0;i<t.length;i++){m=n.createItem(e[t[i]]);n.items.push(m),d.appendChild(m.element)}for(i=0;i<n.items.length;i++)n.items[i].element.setAttribute("data-index",i)}l.appendChild(d)},n.getText=function(e){for(var t=[],o=0;o<n.selected.length;o++)n.items[n.selected[o]]&&t.push(n.items[n.selected[o]].text);return e?t:t.join("; ")},n.getValue=function(e){for(var t=[],o=0;o<n.selected.length;o++)n.items[n.selected[o]]&&t.push(n.items[n.selected[o]].value);return e?t:t.join(";")},n.setValue=function(e){for(var t=0;t<n.selected.length;t++)n.items[n.selected[t]].element.classList.remove("jdropdown-selected");if(n.selected=[],null!=e)if(Array.isArray(e))for(t=0;t<n.items.length;t++)for(var o=0;o<e.length;o++)n.items[t].value==e[o]&&(n.selected.push(t),n.items[t].element.classList.add("jdropdown-selected"));else for(t=0;t<n.items.length;t++)n.items[t].value==e&&(n.selected.push(t),n.items[t].element.classList.add("jdropdown-selected"));n.updateLabel()},n.selectIndex=function(t){if(n.items&&n.items[t]){t=t=parseInt(t);var o=n.getValue(),i=n.getText();if(null!=n.currentIndex&&n.items[n.currentIndex].element.classList.remove("jdropdown-cursor"),n.items[t].element.classList.add("jdropdown-cursor"),n.currentIndex=t,n.options.multiple){if(n.items[t].element.classList.contains("jdropdown-selected")){n.items[t].element.classList.remove("jdropdown-selected");var a=n.selected.indexOf(t);n.selected.splice(a,1)}else n.items[t].element.classList.add("jdropdown-selected"),n.selected.push(t);n.options.autocomplete||n.updateLabel()}else n.items[t].element.classList.contains("jdropdown-selected")?n.resetSelected():(n.resetSelected(),n.items[t].element.classList.add("jdropdown-selected"),n.selected.push(t),n.close());var r=n.getValue(),s=n.getText();"function"==typeof n.options.onchange&&n.options.onchange(e,t,o,r,i,s)}},n.selectItem=function(e){if(jSuites.dropdown.current){var t=e.getAttribute("data-index");null!=t&&n.selectIndex(t)}},n.find=function(e){e=e?e.toLowerCase():null;for(var t=0;t<n.items.length;t++)null==e||-1!=n.items[t].textLowerCase.indexOf(e)?n.items[t].element.style.display="":-1==n.selected.indexOf(t)?n.items[t].element.style.display="none":n.items[t].element.style.display=""},n.updateLabel=function(){s.value=n.getText()},n.open=function(){if(jSuites.dropdown.current!=e&&(jSuites.dropdown.current&&jSuites.dropdown.current.dropdown.close(),jSuites.dropdown.current=e),!e.classList.contains("jdropdown-focus")){e.classList.add("jdropdown-focus"),jSuites.getWindowWidth()<800&&(null!=n.options.type&&"picker"!=n.options.type||jSuites.slideBottom(l,1)),1==n.options.autocomplete&&(n.find(),s.value="",s.focus());var t=n.selected&&n.selected[0]?n.selected[0]:0;if(n.updateCursor(t),!n.options.type||"default"==n.options.type){const t=e.getBoundingClientRect(),o=l.getBoundingClientRect();n.options.position?(l.style.position="fixed",window.innerHeight<t.bottom+o.height?(l.style.top="",l.style.bottom=window.innerHeight-t.top+1+"px"):(l.style.top=t.bottom+"px",l.style.bottom=""),l.style.left=t.left+"px"):window.innerHeight<t.bottom+o.height?(l.style.top="",l.style.bottom=t.height+1+"px"):(l.style.top="",l.style.bottom=""),l.style.minWidth=t.width+"px"}}"function"==typeof n.options.onopen&&n.options.onopen(e)},n.close=function(t){return jSuites.dropdown.current&&(jSuites.dropdown.current=null,n.resetCursor(),n.updateLabel(),t||"function"!=typeof n.options.onclose||n.options.onclose(e),s.blur&&s.blur(),e.classList.remove("jdropdown-focus")),n.getValue()},n.updateCursor=function(e){if(n.items&&n.items[e]&&n.items[e].element){n.resetCursor(),n.items[e].element.classList.add("jdropdown-cursor"),n.currentIndex=parseInt(e);d.scrollTop;var t=n.items[n.currentIndex].element;d.scrollTop=t.offsetTop-t.scrollTop+t.clientTop-95}},n.resetCursor=function(){null!=n.currentIndex&&(n.items&&n.items[n.currentIndex]&&n.items[n.currentIndex].element.classList.remove("jdropdown-cursor"),n.currentIndex=null)},n.resetSelected=function(){if(n.selected){for(var e=0;e<n.selected.length;e++)n.items[n.selected[e]]&&n.items[n.selected[e]].element.classList.remove("jdropdown-selected");n.selected=[]}},n.reset=function(){n.resetCursor(),n.resetSelected(),n.updateLabel()},n.firstVisible=function(){for(var e=null,t=0;t<n.items.length;t++)if("none"!=n.items[t].element.style.display){e=t;break}if(null==e)return!1;n.updateCursor(e)},n.first=function(){for(var e=null,t=n.currentIndex-1;t>=0;t--)"none"!=n.items[t].element.style.display&&(e=t);if(null==e)return!1;n.updateCursor(e)},n.last=function(){for(var e=null,t=n.currentIndex+1;t<n.items.length;t++)"none"!=n.items[t].element.style.display&&(e=t);if(null==e)return!1;n.updateCursor(e)},n.next=function(){for(var e=null,t=n.currentIndex+1;t<n.items.length;t++)if("none"!=n.items[t].element.style.display){e=t;break}if(null==e)return!1;n.updateCursor(e)},n.prev=function(){for(var e=null,t=n.currentIndex-1;t>=0;t--)if("none"!=n.items[t].element.style.display){e=t;break}if(null==e)return!1;n.updateCursor(e)},jSuites.dropdown.hasEvents||("ontouchsend"in document.documentElement==!0?document.addEventListener("touchsend",jSuites.dropdown.mouseup):document.addEventListener("mouseup",jSuites.dropdown.mouseup),document.addEventListener("keydown",jSuites.dropdown.onkeydown),jSuites.dropdown.hasEvents=!0),n.init(),e.dropdown=n,n},jSuites.dropdown.hasEvents=!1,jSuites.dropdown.mouseup=function(e){var t=jSuites.getElement(e.target,"jdropdown");if(t){var n=t.dropdown;if(e.target.classList.contains("jdropdown-header"))t.classList.contains("jdropdown-focus")&&t.classList.contains("jdropdown-default")?n.close():n.open();else if(e.target.classList.contains("jdropdown-group-name")){var o=e.target.nextSibling.children;if("none"!=e.target.nextSibling.style.display)for(var i=0;i<o.length;i++)"none"!=o[i].style.display&&n.selectItem(o[i])}else e.target.classList.contains("jdropdown-group-arrow")?e.target.classList.contains("jdropdown-group-arrow-down")?(e.target.classList.remove("jdropdown-group-arrow-down"),e.target.classList.add("jdropdown-group-arrow-up"),e.target.parentNode.nextSibling.style.display="none"):(e.target.classList.remove("jdropdown-group-arrow-up"),e.target.classList.add("jdropdown-group-arrow-down"),e.target.parentNode.nextSibling.style.display=""):e.target.classList.contains("jdropdown-item")?n.selectItem(e.target):e.target.classList.contains("jdropdown-image")?n.selectIndex(e.target.parentNode.getAttribute("data-index")):e.target.classList.contains("jdropdown-description")?n.selectIndex(e.target.parentNode.getAttribute("data-index")):e.target.classList.contains("jdropdown-title")?n.selectIndex(e.target.parentNode.parentNode.getAttribute("data-index")):(e.target.classList.contains("jdropdown-close")||e.target.classList.contains("jdropdown-backdrop"))&&n.close();e.stopPropagation(),e.preventDefault()}else jSuites.dropdown.current&&jSuites.dropdown.current.dropdown.close()},jSuites.dropdown.onkeydown=function(e){if(jSuites.dropdown.current){var t=jSuites.dropdown.current.dropdown,n=t.currentIndex;e.shiftKey||13!=e.which&&27!=e.which&&35!=e.which&&36!=e.which&&38!=e.which&&40!=e.which||(13==e.which?t.selectIndex(n):38==e.which?null==n?t.firstVisible():n>0&&t.prev():40==e.which?null==n?t.firstVisible():n+1<t.options.data.length&&t.next():36==e.which?t.first():35==e.which?t.last():27==e.which&&t.close(),e.stopPropagation(),e.preventDefault())}},jSuites.dropdown.extractFromDom=function(e,t){var n=e;if(t||(t={}),!e.getAttribute("multiple")||t&&null!=t.multiple||(t.multiple=!0),!e.getAttribute("placeholder")||t&&null!=t.placeholder||(t.placeholder=e.getAttribute("placeholder")),!e.getAttribute("data-autocomplete")||t&&null!=t.autocomplete||(t.autocomplete=!0),t&&null!=t.width||(t.width=e.offsetWidth),!e.value||t&&null!=t.value||(t.value=e.value),!t||null==t.data){t.data=[];for(var o=0;o<e.children.length;o++)if("OPTGROUP"==e.children[o].tagName)for(var i=0;i<e.children[o].children.length;i++)t.data.push({id:e.children[o].children[i].value,name:e.children[o].children[i].innerHTML,group:e.children[o].getAttribute("label")});else t.data.push({id:e.children[o].value,name:e.children[o].innerHTML})}t&&null!=t.onchange||(t.onchange=function(e,o,i,a){1==t.multiple?obj.items[o].classList.contains("jdropdown-selected")?n.options[o].setAttribute("selected","selected"):n.options[o].removeAttribute("selected"):n.value=a});var a=document.createElement("div");return e.parentNode.insertBefore(a,e),e.style.display="none",{el:e=a,options:t}},jSuites.editor=function(e,t){var n={options:{}},o={value:null,snippet:null,toolbar:null,maxHeight:null,remoteParser:null,youtubeKey:null,userSearch:null,parseURL:!1,dropZone:!0,dropAsAttachment:!1,acceptImages:!0,acceptFiles:!1,maxFileSize:5e6,border:!0,padding:!0,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onenter:null,onkeyup:null,onkeydown:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];var a=null,r=null;e.innerHTML="",e.classList.add("jeditor-container"),1==n.options.padding&&e.classList.add("jeditor-padding"),0==n.options.border&&(e.style.border="0px");var s=document.createElement("div");s.className="snippet",s.setAttribute("contenteditable",!1);var l=document.createElement("div");l.className="jeditor-toolbar";var d=document.createElement("div");if(d.setAttribute("contenteditable",!0),d.setAttribute("spellcheck",!1),d.className="jeditor",n.options.maxHeight&&(d.style.overflowY="auto",d.style.maxHeight=n.options.maxHeight),n.options.value)var c=n.options.value;else c=e.innerHTML?e.innerHTML:"";if(!c)c="<br>";var u=function(e){var t=document.createElement("div");t.innerHTML=e;var o=t.querySelectorAll("img");if(o.length)for(var i=0;i<o.length;i++)n.addImage(o[i].src)},p=function(e){var t,n;if(window.getSelection&&(t=window.getSelection()).rangeCount){(n=t.getRangeAt(0)).toString();n.deleteContents(),n.insertNode(e),n.setStartAfter(e),n.setEndAfter(e),t.removeAllRanges(),t.addRange(n)}},m=function(e){if(s.innerHTML="",e.image){(n=document.createElement("div")).className="snippet-image",n.setAttribute("data-k","image"),s.appendChild(n);var t=document.createElement("img");t.src=e.image,n.appendChild(t)}var n;(n=document.createElement("div")).className="snippet-title",n.setAttribute("data-k","title"),n.innerHTML=e.title,s.appendChild(n),(n=document.createElement("div")).className="snippet-description",n.setAttribute("data-k","description"),n.innerHTML=e.description,s.appendChild(n),(n=document.createElement("div")).className="snippet-host",n.setAttribute("data-k","host"),n.innerHTML=e.host,s.appendChild(n),(n=document.createElement("div")).className="snippet-url",n.setAttribute("data-k","url"),n.innerHTML=e.url,s.appendChild(n),d.appendChild(s)},f=function(){clearTimeout(a),a=setTimeout(function(){var t=d.querySelector(".snippet"),o=e.querySelector(".jeditor-thumbs-container");if(!t&&!o){var i=d.innerHTML.replace(/\n/g," "),a=document.createElement("div");a.innerHTML=i,(o=a.querySelector(".jeditor-thumbs-container"))&&o.remove();var r=a.innerText,s=jSuites.editor.detectUrl(r);if(s)if("jpg"==s[0].substr(-3)||"png"==s[0].substr(-3)||"gif"==s[0].substr(-3))jSuites.editor.getDomain(s[0])==window.location.hostname?n.importImage(s[0],""):n.importImage(n.options.remoteParser+s[0],"");else{var l=jSuites.editor.youtubeParser(s[0]);l?n.getYoutube(l):n.getWebsite(s[0])}}},1e3)};n.parseContent=function(){f()},n.getYoutube=function(e){n.options.youtubeKey?jSuites.ajax({url:"https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&key="+n.options.youtubeKey+"&id="+e,method:"GET",dataType:"json",success:function(t){if(t.items&&t.items[0]){var n={title:"",description:"",image:"",host:"www.youtube.com",url:"https://www.youtube.com?watch="+e};t.items[0].snippet.title&&(n.title=t.items[0].snippet.title),t.items[0].snippet.description&&(n.description=t.items[0].snippet.description,n.description.length>150&&(n.description=n.description.substr(0,150)+"...")),t.items[0].snippet.thumbnails.medium.url&&(n.image=t.items[0].snippet.thumbnails.medium.url),m(n)}}}):console.error("The youtubeKey is not defined")},n.getWebsite=function(e){n.options.remoteParser?jSuites.ajax({url:n.options.remoteParser+encodeURI(e.trim()),method:"GET",dataType:"json",success:function(t){var n={title:"",description:"",image:"",host:e,url:e};t.title&&(n.title=t.title),t.description&&(n.description=t.description),t.image?n.image=t.image:t["og:image"]&&(n.image=t["og:image"]),t.host&&(n.host=t.host),t.url&&(n.url=t.url),m(n)}}):console.log("The remoteParser is not defined")},n.setData=function(e){d.innerHTML=e,cursor()},n.getData=function(e){if(e){r={content:""};var t=d.querySelectorAll(".post-tag");if(t.length){r.users=[];for(var n=0;n<t.length;n++){var o=t[n].getAttribute("data-user");o&&r.users.push(o)}r.users=r.users.join(",")}if(s.innerHTML){r.snippet={};for(n=0;n<s.children.length;n++){var i=s.children[n].getAttribute("data-k");i&&("image"==i?r.snippet.image=s.children[n].children[0].getAttribute("src"):r.snippet[i]=s.children[n].innerHTML)}s.innerHTML="",s.remove()}var a=d.innerHTML;a=(a=(a=a.replace(/<br>/g,"\n")).replace(/<\/div>/g,"</div>\n")).replace(/<(?:.|\n)*?>/gm,""),r.content=a.trim(),r=JSON.stringify(r)}else var r=d.innerHTML;return r},n.reset=function(){d.innerHTML=""},n.addPdf=function(e){if("data"!=e.result.substr(0,4))console.error("Invalid source");else{var t=document.createElement("canvas");t.width=60,t.height=60;var n=new Image;t.getContext("2d").drawImage(n,0,0,t.width,t.height),t.toBlob(function(t){var n=document.createElement("img");n.src=window.URL.createObjectURL(t),n.setAttribute("data-extension","pdf"),e.name&&n.setAttribute("data-name",e.name),e.size&&n.setAttribute("data-size",e.size),e.date&&n.setAttribute("data-date",e.date),n.className="jfile pdf",p(n),jSuites.files[n.src]=e.result.substr(e.result.indexOf(",")+1)})}},n.addImage=function(e,t,o,i){if("data"==e.substr(0,4)||n.options.remoteParser){if("data"==e.substr(0,4)){a=(a=(a=e.split(";"))[0].split("/"))[1]}else{var a=e.substr(e.lastIndexOf(".")+1);e=n.options.remoteParser+e}var r=new Image;r.onload=function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r,0,0,e.width,e.height),e.toBlob(function(n){var r=document.createElement("img");r.src=window.URL.createObjectURL(n),r.setAttribute("tabindex","900"),r.setAttribute("data-extension",a),t&&r.setAttribute("data-name",t),o&&r.setAttribute("data-size",o),i&&r.setAttribute("data-date",i),r.className="jfile";var s=e.toDataURL();p(r),jSuites.files[r.src]=s.substr(s.indexOf(",")+1)})},r.src=e}else console.error("remoteParser not defined in your initialization")},n.addFile=function(e){for(var t=[],o=0;o<e.length;o++)if(e[o].size>n.options.maxFileSize)alert("The file is too big");else{var i=e[o].type.split("/");(i="image"==i[0]?1:"pdf"==i[1]?2:0)?(t[o]=new FileReader,t[o].index=o,t[o].type=i,t[o].name=e[o].name,t[o].date=e[o].lastModified,t[o].size=e[o].size,t[o].addEventListener("load",function(e){2==e.target.type?1==n.options.acceptFiles&&n.addPdf(e.target):n.addImage(e.target.result,e.target.name,e.total,e.target.lastModified)},!1),t[o].readAsDataURL(e[o])):alert("The extension is not allowed")}},n.destroy=function(){d.removeEventListener("mouseup",h),d.removeEventListener("mousedown",g),d.removeEventListener("mousemove",v),d.removeEventListener("keyup",w),d.removeEventListener("keydown",y),d.removeEventListener("dragstart",j),d.removeEventListener("dragenter",L),d.removeEventListener("dragover",E),d.removeEventListener("drop",S),d.removeEventListener("paste",b),"function"==typeof n.options.onblur&&d.removeEventListener("blur",C),"function"==typeof n.options.onfocus&&d.removeEventListener("focus",x),e.editor=null,e.classList.remove("jeditor-container"),l.remove(),s.remove(),d.remove()};var h=function(e){r=!1},g=function(e){var t=function(t){var n=t.getBoundingClientRect();n.width-(e.clientX-n.left)<40&&e.clientY-n.top<40&&(t.innerHTML="",t.remove())};if("IMG"==e.target.tagName)if(e.target.style.cursor){var n=e.target.getBoundingClientRect();r={e:e.target,x:e.clientX,y:e.clientY,w:n.width,h:n.height,d:e.target.style.cursor},e.target.style.width||(e.target.style.width=n.width+"px"),e.target.style.height||(e.target.style.height=n.height+"px");var o=window.getSelection();if(o.rangeCount)for(var i=0;i<o.rangeCount;i++)o.removeRange(o.getRangeAt(i))}else r=!0;else e.target.classList.contains("snippet")?t(e.target):e.target.parentNode.classList.contains("snippet")&&t(e.target.parentNode),r=!0},v=function(e){if("IMG"==e.target.tagName&&e.target.getAttribute("tabindex")){var t=e.target.getBoundingClientRect();e.clientY-t.top<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="ne-resize":e.clientX-t.left<5?e.target.style.cursor="nw-resize":e.target.style.cursor="n-resize":t.height-(e.clientY-t.top)<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="se-resize":e.clientX-t.left<5?e.target.style.cursor="sw-resize":e.target.style.cursor="s-resize":t.width-(e.clientX-t.left)<5?e.target.style.cursor="e-resize":e.clientX-t.left<5?e.target.style.cursor="w-resize":e.target.style.cursor=""}if(1==e.which&&r&&r.d){if("e-resize"==r.d||"ne-resize"==r.d||"se-resize"==r.d)if(r.e.style.width=r.w+(e.clientX-r.x)+"px",e.shiftKey){var n=(e.clientX-r.x)*(r.h/r.w);r.e.style.height=r.h+n+"px"}else n=null;n||"s-resize"!=r.d&&"se-resize"!=r.d&&"sw-resize"!=r.d||e.shiftKey||(r.e.style.height=r.h+(e.clientY-r.y))}},w=function(t){d.innerHTML||(d.innerHTML="<div><br></div>"),"function"==typeof n.options.onkeyup&&n.options.onkeyup(t,e)},y=function(t){if(1==n.options.parseURL&&f(),"function"==typeof n.options.onenter&&13==t.which){var o=n.getData();n.options.onenter(n,e,o,t)}"function"==typeof n.options.onkeydown&&n.options.onkeydown(t,e)},b=function(e){if(e.clipboardData||e.originalEvent.clipboardData)var t=(e.originalEvent||e).clipboardData.getData("text/html"),o=(e.originalEvent||e).clipboardData.getData("text/plain"),i=(e.originalEvent||e).clipboardData.files;else if(window.clipboardData)t=window.clipboardData.getData("Html"),o=window.clipboardData.getData("Text"),i=window.clipboardData.files;if(i.length)n.addFile(i);else{o=o.split("\r\n");var a="";if("DIV"!=e.target.nodeName||e.target.classList.contains("jeditor"))for(r=0;r<o.length;r++)o[r]?a+="<div>"+o[r]+"</div>":a+="<div><br></div>";else for(var r=0;r<o.length;r++)o[r]&&(a+=o[r]+"<br>\r\n");document.execCommand("insertHtml",!1,a),1==n.options.acceptImages&&u(t)}e.preventDefault()},j=function(e){r&&r.e&&e.preventDefault()},L=function(t){r||0==n.options.dropZone||e.classList.add("jeditor-dragging")},E=function(t){r||0==n.options.dropZone||(a&&clearTimeout(a),a=setTimeout(function(){e.classList.remove("jeditor-dragging")},100))},S=function(t){if(r||0==n.options.dropZone);else{var o=null;document.caretRangeFromPoint?o=document.caretRangeFromPoint(t.clientX,t.clientY):t.rangeParent&&(o=document.createRange()).setStart(t.rangeParent,t.rangeOffset);var i=window.getSelection();i.removeAllRanges(),i.addRange(o),i.anchorNode.parentNode.focus();var a=(t.originalEvent||t).dataTransfer.getData("text/html"),s=(t.originalEvent||t).dataTransfer.getData("text/plain"),l=(t.originalEvent||t).dataTransfer.files;l.length?n.addFile(l):s&&u(a),e.classList.remove("jeditor-dragging"),t.preventDefault()}},C=function(){n.options.onblur(n,e,n.getData())},x=function(){n.options.onfocus(n,e,n.getData())};if(d.addEventListener("mouseup",h),d.addEventListener("mousedown",g),d.addEventListener("mousemove",v),d.addEventListener("keyup",w),d.addEventListener("keydown",y),d.addEventListener("dragstart",j),d.addEventListener("dragenter",L),d.addEventListener("dragover",E),d.addEventListener("drop",S),d.addEventListener("paste",b),"function"==typeof n.options.onblur&&d.addEventListener("blur",C),"function"==typeof n.options.onfocus&&d.addEventListener("focus",x),"function"==typeof n.options.onload&&n.options.onload(e,d),d.innerHTML=c,e.appendChild(d),n.options.snippet&&m(n.options.snippet),null==n.options.toolbar&&(n.options.toolbar=jSuites.editor.getDefaultToolbar()),n.options.toolbar){for(var T=0;T<n.options.toolbar.length;T++)if(n.options.toolbar[T].icon){(M=document.createElement("div")).style.userSelect="none";var A=document.createElement("i");A.className="material-icons",A.innerHTML=n.options.toolbar[T].icon,A.onclick=function(t){var o=T;return function(){n.options.toolbar[o].onclick(e,n,this)}}(),M.appendChild(A),l.appendChild(M)}else{if("divisor"==n.options.toolbar[T].type)(M=document.createElement("div")).className="jeditor-toolbar-divisor",l.appendChild(M);else if("button"==n.options.toolbar[T].type){var M;(M=document.createElement("div")).classList.add("jeditor-toolbar-button"),M.innerHTML=n.options.toolbar[T].value,l.appendChild(M)}}e.appendChild(l)}return n.options.focus&&jSuites.editor.setCursor(d,"initial"==n.options.focus),e.editor=n,n},jSuites.editor.setCursor=function(e,t){e.focus(),document.execCommand("selectAll");var n=window.getSelection(),o=n.getRangeAt(0);if(1==t)var i=o.startContainer,a=0;else a=(i=o.endContainer).length;o.setStart(i,a),o.setEnd(i,a),n.removeAllRanges(),n.addRange(o)},jSuites.editor.getDomain=function(e){return e.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0].split(/:/g)[0]},jSuites.editor.detectUrl=function(e){var t=e.match(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi);return t&&"www"==t[0].substr(0,3)&&(t[0]="http://"+t[0]),t},jSuites.editor.youtubeParser=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);return!(!t||11!=t[7].length)&&t[7]},jSuites.editor.getDefaultToolbar=function(){return[{icon:"undo",onclick:function(){document.execCommand("undo")}},{icon:"redo",onclick:function(){document.execCommand("redo")}},{type:"divisor"},{icon:"format_bold",onclick:function(e,t,n){document.execCommand("bold"),document.queryCommandState("bold")?n.classList.add("selected"):n.classList.remove("selected")}},{icon:"format_italic",onclick:function(e,t,n){document.execCommand("italic"),document.queryCommandState("italic")?n.classList.add("selected"):n.classList.remove("selected")}},{icon:"format_underline",onclick:function(e,t,n){document.execCommand("underline"),document.queryCommandState("underline")?n.classList.add("selected"):n.classList.remove("selected")}},{type:"divisor"},{icon:"format_list_bulleted",onclick:function(e,t,n){document.execCommand("insertUnorderedList"),document.queryCommandState("insertUnorderedList")?n.classList.add("selected"):n.classList.remove("selected")}},{icon:"format_list_numbered",onclick:function(e,t,n){document.execCommand("insertOrderedList"),document.queryCommandState("insertOrderedList")?n.classList.add("selected"):n.classList.remove("selected")}},{icon:"format_indent_increase",onclick:function(e,t,n){document.execCommand("indent",!0,null),document.queryCommandState("indent")?n.classList.add("selected"):n.classList.remove("selected")}},{icon:"format_indent_decrease",onclick:function(e,t,n){document.execCommand("outdent"),document.queryCommandState("outdent")?n.classList.add("selected"):n.classList.remove("selected")}}]},jSuites.image=function(e,t){var n={options:{}},o={minWidth:!1,onchange:null,singleFile:!0,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed",imageTooSmall:"The resolution is too low, try a image with a better resolution. width > 800px"}};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];e.classList.add("jupload"),n.addImage=function(e){e.date||(e.date="");var t=document.createElement("img");return t.setAttribute("data-date",e.lastmodified?e.lastmodified:e.date),t.setAttribute("data-name",e.name),t.setAttribute("data-size",e.size),t.setAttribute("data-small",e.small?e.small:""),t.setAttribute("data-cover",e.cover?1:0),t.setAttribute("data-extension",e.extension),t.setAttribute("src",e.file),t.className="jfile",t.style.width="100%",t},n.addImages=function(t){1==n.options.singleFile&&(e.innerHTML="");for(var o=0;o<t.length;o++)e.appendChild(n.addImage(t[o]))},n.addFromFile=function(t){if("image"==t.type.split("/")[0]){1==n.options.singleFile&&(e.innerHTML="");var o=new FileReader;o.addEventListener("load",function(o){var i=new Image;i.onload=function(){var o=document.createElement("canvas");o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(i,0,0,o.width,o.height);var a={file:o.toDataURL(),extension:t.name.substr(t.name.lastIndexOf(".")+1),name:t.name,size:t.size,lastmodified:t.lastModified},r=n.addImage(a);e.appendChild(r),"function"==typeof n.options.onchange&&n.options.onchange(r)},i.src=o.srcElement.result}),o.readAsDataURL(t)}else alert(text.extentionNotAllowed)},n.addFromUrl=function(t){if("data"==t.substr(0,4)||n.options.remoteParser){if("data"==t.substr(0,4)){o=(o=(o=t.split(";"))[0].split("/"))[1]}else{var o=t.substr(t.lastIndexOf(".")+1);t=n.options.remoteParser+t}var i=new Image;i.onload=function(){var t=document.createElement("canvas");t.width=i.width,t.height=i.height,t.getContext("2d").drawImage(i,0,0,t.width,t.height),t.toBlob(function(i){var a={file:window.URL.createObjectURL(i),extension:o},r=n.addImage(a);e.appendChild(r);var s=t.toDataURL();jSuites.files[a.file]=s.substr(s.indexOf(",")+1),"function"==typeof n.options.onchange&&n.options.onchange(r)})},i.src=t}else console.error("remoteParser not defined in your initialization")};var a=document.createElement("input");return a.type="file",a.setAttribute("accept","image/*"),a.onchange=function(){for(var e=0;e<this.files.length;e++)n.addFromFile(this.files[e])},e.addEventListener("dblclick",function(e){jSuites.click(a)}),e.addEventListener("dragenter",function(t){e.style.border="1px dashed #000"}),e.addEventListener("dragleave",function(t){e.style.border="1px solid #eee"}),e.addEventListener("dragstop",function(t){e.style.border="1px solid #eee"}),e.addEventListener("dragover",function(e){e.preventDefault()}),e.addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation();var o=(t.originalEvent||t).dataTransfer.getData("text/html");if((t.originalEvent||t).dataTransfer.files.length)for(var i=0;i<t.dataTransfer.files.length;i++)n.addFromFile(t.dataTransfer.files[i]);else if(o){1==n.options.singleFile&&(e.innerHTML="");var a=document.createElement("div");a.innerHTML=o;var r=a.querySelectorAll("img");if(r.length)for(i=0;i<r.length;i++)n.addFromUrl(r[i].src)}return e.style.border="1px solid #eee",!1}),e.image=n,n},jSuites.loading=function(){var e={},t=document.createElement("div");return t.className="jloading",e.show=function(){document.body.appendChild(t)},e.hide=function(){document.body.removeChild(t)},e}(),jSuites.login=function(e,t){var n={options:{}},o={url:window.location.href,prepareRequest:null,accessToken:null,deviceToken:null,facebookUrl:null,facebookAuthentication:null,maxHeight:null,onload:null,onsuccess:null,onerror:null,message:null,logo:null,newProfile:!1,newProfileUrl:!1,newProfileLogin:!1,fullscreen:!1,newPasswordValidation:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];if(!n.options.message){var a=document.querySelector(".message");a&&(n.options.message=a)}var r=null,s=document.createElement("form");e.appendChild(s);var l=document.createElement("div");if(l.className="jlogin-logo",s.appendChild(l),n.options.logo){var d=document.createElement("img");d.src=n.options.logo,l.appendChild(d)}var c=document.createElement("label");c.innerHTML="Please enter here the code received";var u=document.createElement("input");u.type="number",u.id="code",u.setAttribute("maxlength",6);var p=document.createElement("div");p.appendChild(c),p.appendChild(u);var m=document.createElement("input");m.type="hidden",m.name="h";var f=document.createElement("div");f.appendChild(m);var h=document.createElement("input");h.type="hidden",h.name="recovery",h.value="1";var g=document.createElement("div");g.appendChild(h);var v=document.createElement("label");v.innerHTML="Login";var w=document.createElement("input");w.type="text",w.name="login",w.setAttribute("autocomplete","off"),w.onkeyup=function(){this.value=this.value.toLowerCase().replace(/[^a-zA-Z0-9_+]+/gi,"")};var y=document.createElement("div");y.appendChild(v),y.appendChild(w);var b=document.createElement("label");b.innerHTML="Name";var j=document.createElement("input");j.type="text",j.name="name";var L=document.createElement("div");L.appendChild(b),L.appendChild(j);var E=document.createElement("label");E.innerHTML="E-mail";var S=document.createElement("input");S.type="text",S.name="username",S.setAttribute("autocomplete","new-username");var C=document.createElement("div");C.appendChild(E),C.appendChild(S);var x=document.createElement("label");x.innerHTML="New password";var T=document.createElement("input");T.type="password",T.name="password",T.setAttribute("autocomplete","new-password");var A=document.createElement("div");A.appendChild(x),A.appendChild(T),A.onkeydown=function(e){13==e.keyCode&&n.execute()};var M=document.createElement("label");M.innerHTML="Repeat the new password";var N=document.createElement("input");N.type="password",N.name="password";var O=document.createElement("div");O.appendChild(M),O.appendChild(N);var H=document.createElement("label");H.innerHTML="Remember me on this device";var k=document.createElement("input");k.type="checkbox",k.name="remember",k.value="1",H.appendChild(k);var I=document.createElement("div");I.className="rememberButton",I.appendChild(H);var D=document.createElement("input");D.type="button",D.value="Log In",D.onclick=function(){n.execute()};var P=document.createElement("div");P.appendChild(D);var R=document.createElement("div");R.innerHTML="Cancel",R.className="cancelButton",R.onclick=function(){n.requestAccess()};var q=document.createElement("div");q.appendChild(R);var B=document.createElement("label");B.innerHTML="Please type here the code below";var F=document.createElement("input");F.type="text",F.name="captcha";var V=document.createElement("img"),Y=document.createElement("div");Y.className="jlogin-captcha",Y.appendChild(B),Y.appendChild(F),Y.appendChild(V);var U=document.createElement("div");U.innerHTML="Login with Facebook",U.className="facebookButton";var z=document.createElement("div");z.appendChild(U),z.onclick=function(){n.requestLoginViaFacebook()};var W=document.createElement("span");W.innerHTML="Request a new password";var _=document.createElement("div");_.className="requestButton",_.appendChild(W),_.onclick=function(){n.requestNewPassword()};var X=document.createElement("span");X.innerHTML="Create a new profile";var G=document.createElement("div");G.className="newProfileButton",G.appendChild(X),G.onclick=function(){n.newProfile()},e.className="jlogin",1==n.options.fullscreen&&e.classList.add("jlogin-fullscreen"),n.showMessage=function(e){"object"==typeof e&&e.message;"function"==typeof n.options.showMessage?n.options.showMessage(e):jSuites.alert(e)},n.newProfile=function(){s.innerHTML="",s.appendChild(l),n.options.newProfileLogin&&s.appendChild(y),s.appendChild(L),s.appendChild(C),s.appendChild(P),1==n.options.facebookAuthentication&&s.appendChild(z),s.appendChild(q),w.value="",S.value="",T.value="",D.value="Create new profile",r="newProfile"},n.requestNewPassword=function(){if(Array.prototype.indexOf.call(s.children,Y)>=0)var e=!0;s.innerHTML="",s.appendChild(l),s.appendChild(g),s.appendChild(C),e&&s.appendChild(Y),s.appendChild(P),s.appendChild(q),D.value="Request a new password",h.value=1,r="requestNewPassword"},n.codeConfirmation=function(){s.innerHTML="",s.appendChild(l),s.appendChild(f),s.appendChild(p),s.appendChild(P),s.appendChild(q),D.value="Confirm code",h.value=2,r="codeConfirmation"},n.changeMyPassword=function(e){s.innerHTML="",s.appendChild(l),s.appendChild(f),s.appendChild(A),s.appendChild(O),s.appendChild(P),s.appendChild(q),D.value="Change my password",m.value=e,r="changeMyPassword"},n.requestAccess=function(){s.innerHTML="",s.appendChild(l),s.appendChild(C),s.appendChild(A),s.appendChild(P),1==n.options.facebookAuthentication&&s.appendChild(z),s.appendChild(_),s.appendChild(I),s.appendChild(_),1==n.options.newProfile&&s.appendChild(G),D.value="Login",T.value="",window.localStorage.getItem("username")?(S.value=window.localStorage.getItem("username"),T.focus()):S.focus(),r="requestAccess"},n.requestLoginViaFacebook=function(){"undefined"==typeof deviceNotificationToken?FB.getLoginStatus(function(e){e.status&&"connected"==e.status?n.execute({f:e.authResponse.accessToken}):FB.login(function(e){e.authResponse?n.execute({f:e.authResponse.accessToken}):n.showMessage("Not authorized by facebook")},{scope:"public_profile,email"})},!0):(jDestroy=function(){fbLogin.removeEventListener("loadstart",jStart),fbLogin.removeEventListener("loaderror",jError),fbLogin.removeEventListener("exit",jExit),fbLogin.close(),fbLogin=null},jStart=function(e){var t=e.url;t.indexOf("access_token")>=0&&setTimeout(function(){var e=t.match(/=(.*?)&/);e[1].length>32&&n.execute({f:e[1]}),jDestroy()},500),t.indexOf("error=access_denied")>=0&&(setTimeout(jDestroy,500),n.showMessage("Not authorized by facebook"))},jError=function(e){jDestroy()},jExit=function(e){jDestroy()},fbLogin=window.open(n.options.facebookUrl,"_blank","location=no,closebuttoncaption=Exit,disallowoverscroll=yes,toolbar=no"),fbLogin.addEventListener("loadstart",jStart),fbLogin.addEventListener("loaderror",jError),fbLogin.addEventListener("exit",jExit)),r="requestLoginViaFacebook"},n.execute=function(t){if("newProfile"==r){var o=new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/);if(!S.value||!o.test(S.value))var i="Invalid e-mail address";o=new RegExp(/^[a-zA-Z0-9\_\-\.\s+]+$/);if(!w.value||!o.test(w.value))i="Invalid username, please use only characters and numbers";if(i)return n.showMessage(i),!1}else if("changeMyPassword"==r){if(T.value.length<3)i="Password is too short";else if(T.value!=N.value)i="Password should match";else if("function"==typeof n.options.newPasswordValidation){var a=n.options.newPasswordValidation(n,T.value,T.value);null!=a&&(i=a)}if(i)return n.showMessage(i),!1}if(""!=S.value&&window.localStorage.setItem("username",S.value),Array.prototype.indexOf.call(s.children,Y)>=0&&""==F.value)return n.showMessage("Please enter the captch code below"),!1;var l=n.options.url;n.options.deviceToken&&(l+="?token="+n.options.deviceToken);t||((t=jSuites.getFormElements(e)).password&&(t.password=jSuites.login.sha512(t.password)),Array.prototype.indexOf.call(s.children,p)>=0&&u.value&&(t.h=jSuites.login.sha512(u.value)));e.classList.add("jlogin-loading");l="newProfile"==r&&n.options.newProfileUrl?n.options.newProfileUrl:n.options.url;jSuites.ajax({url:l,method:"POST",dataType:"json",data:t,success:function(t){e.classList.remove("jlogin-loading"),function(e){e&&(1==e.success&&("requestNewPassword"==r?n.codeConfirmation():"codeConfirmation"==r?n.requestAccess():"newProfile"==r&&(n.requestAccess(),e.newProfile=!0),e.token&&(n.options.accessToken=e.token,window.localStorage.setItem("Access-Token",e.token))),e.message&&n.showMessage(e.message),e.data?(s.insertBefore(Y,P),V.setAttribute("src","data:image/png;base64,"+e.data)):Array.prototype.indexOf.call(s.children,Y)>=0&&Y.remove(),e.hash?n.changeMyPassword(e.hash):e.url&&(1==e.success?"function"==typeof n.options.onsuccess?n.options.onsuccess(e):e.message?setTimeout(function(){window.location.href=e.url},2e3):window.location.href=e.url:"function"==typeof n.options.onerror&&n.options.onerror(e)))}(t)},error:function(t){e.classList.remove("jlogin-loading"),"function"==typeof n.options.onerror&&n.options.onerror(t)}})};var K=window.location.href.split("?");return K[1]&&130==K[1].length&&"h="==K[1].substr(0,2)?n.changeMyPassword(K[1].substr(2)):n.requestAccess(),n},jSuites.login.sha512=function(e){function t(e,t){this.highOrder=e,this.lowOrder=t}var n,o,i,a,r,s,l,d,c,u,p=[new t(1779033703,4089235720),new t(3144134277,2227873595),new t(1013904242,4271175723),new t(2773480762,1595750129),new t(1359893119,2917565137),new t(2600822924,725511199),new t(528734635,4215389547),new t(1541459225,327033209)],m=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)],f=new Array(64),h=8;function g(e,n){var o,i,a;return o=(65535&e.lowOrder)+(65535&n.lowOrder),a=(65535&(i=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(o>>>16)))<<16|65535&o,o=(65535&e.highOrder)+(65535&n.highOrder)+(i>>>16),new t((65535&(i=(e.highOrder>>>16)+(n.highOrder>>>16)+(o>>>16)))<<16|65535&o,a)}function v(e,n,o,i){var a,r,s;return a=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&o.lowOrder)+(65535&i.lowOrder),s=(65535&(r=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(o.lowOrder>>>16)+(i.lowOrder>>>16)+(a>>>16)))<<16|65535&a,a=(65535&e.highOrder)+(65535&n.highOrder)+(65535&o.highOrder)+(65535&i.highOrder)+(r>>>16),new t((65535&(r=(e.highOrder>>>16)+(n.highOrder>>>16)+(o.highOrder>>>16)+(i.highOrder>>>16)+(a>>>16)))<<16|65535&a,s)}function w(e,n,o,i,a){var r,s,l;return r=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&o.lowOrder)+(65535&i.lowOrder)+(65535&a.lowOrder),l=(65535&(s=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(o.lowOrder>>>16)+(i.lowOrder>>>16)+(a.lowOrder>>>16)+(r>>>16)))<<16|65535&r,r=(65535&e.highOrder)+(65535&n.highOrder)+(65535&o.highOrder)+(65535&i.highOrder)+(65535&a.highOrder)+(s>>>16),new t((65535&(s=(e.highOrder>>>16)+(n.highOrder>>>16)+(o.highOrder>>>16)+(i.highOrder>>>16)+(a.highOrder>>>16)+(r>>>16)))<<16|65535&r,l)}function y(e,n,o){return new t(e.highOrder&n.highOrder^e.highOrder&o.highOrder^n.highOrder&o.highOrder,e.lowOrder&n.lowOrder^e.lowOrder&o.lowOrder^n.lowOrder&o.lowOrder)}function b(e,n,o){return new t(e.highOrder&n.highOrder^~e.highOrder&o.highOrder,e.lowOrder&n.lowOrder^~e.lowOrder&o.lowOrder)}function j(e,n){return n<=32?new t(e.highOrder>>>n|e.lowOrder<<32-n,e.lowOrder>>>n|e.highOrder<<32-n):new t(e.lowOrder>>>n|e.highOrder<<32-n,e.highOrder>>>n|e.lowOrder<<32-n)}function L(e){var n=j(e,28),o=j(e,34),i=j(e,39);return new t(n.highOrder^o.highOrder^i.highOrder,n.lowOrder^o.lowOrder^i.lowOrder)}function E(e){var n=j(e,14),o=j(e,18),i=j(e,41);return new t(n.highOrder^o.highOrder^i.highOrder,n.lowOrder^o.lowOrder^i.lowOrder)}function S(e){var n=j(e,1),o=j(e,8),i=C(e,7);return new t(n.highOrder^o.highOrder^i.highOrder,n.lowOrder^o.lowOrder^i.lowOrder)}function C(e,n){return n<=32?new t(e.highOrder>>>n,e.lowOrder>>>n|e.highOrder<<32-n):new t(0,e.highOrder<<32-n)}var x,T,A,M,N=(e=function(e){return unescape(encodeURIComponent(e))}(e)).length*h;(e=function(e){for(var t=[],n=(1<<h)-1,o=e.length*h,i=0;i<o;i+=h)t[i>>5]|=(e.charCodeAt(i/h)&n)<<32-h-i%32;return t}(e))[N>>5]|=128<<24-N%32,e[31+(N+128>>10<<5)]=N;for(var O=0;O<e.length;O+=32){n=p[0],o=p[1],i=p[2],a=p[3],r=p[4],s=p[5],l=p[6],d=p[7];for(var H=0;H<80;H++)f[H]=H<16?new t(e[2*H+O],e[2*H+O+1]):v((x=f[H-2],T=void 0,A=void 0,M=void 0,T=j(x,19),A=j(x,61),M=C(x,6),new t(T.highOrder^A.highOrder^M.highOrder,T.lowOrder^A.lowOrder^M.lowOrder)),f[H-7],S(f[H-15]),f[H-16]),c=w(d,E(r),b(r,s,l),m[H],f[H]),u=g(L(n),y(n,o,i)),d=l,l=s,s=r,r=g(a,c),a=i,i=o,o=n,n=g(c,u);p[0]=g(n,p[0]),p[1]=g(o,p[1]),p[2]=g(i,p[2]),p[3]=g(a,p[3]),p[4]=g(r,p[4]),p[5]=g(s,p[5]),p[6]=g(l,p[6]),p[7]=g(d,p[7])}var k=[];for(O=0;O<p.length;O++)k.push(p[O].highOrder),k.push(p[O].lowOrder);return function(e){for(var t,n="",o=4*e.length,i=0;i<o;i+=1)t=e[i>>2]>>8*(3-i%4),n+="0123456789abcdef".charAt(t>>4&15)+"0123456789abcdef".charAt(15&t);return n}(k)},jSuites.mask=function(){var e={},t=0,n=[],o=[];return e.run=function(o,i,a){if(o&&i){if(a||(a="."),o==Number(o))var r=(""+o).split("."),s=(o=r[0],r[1]);else o=""+o;var l;if(t=0,n=[],e.prepare(i),l=o)for(var d=0;d<l.length;d++)null!=l[d]&&e.process(l[d]);if(s)if(e.process(a),l=s)for(d=0;d<l.length;d++)null!=l[d]&&e.process(l[d]);return n.join("")}return""},e.apply=function(i){if(i.target&&!i.target.getAttribute("readonly")){var a=i.target.getAttribute("data-mask");if(a&&i.keyCode>46){if(t=0,n=[],e.prepare(a),i.target.selectionStart<i.target.selectionEnd)var r=i.target.value.substring(0,i.target.selectionStart);else r=i.target.value;if(r)for(var s=0;s<r.length;s++)null!=r[s]&&e.process(r[s]);e.process(e.fromKeyCode(i)),i.target.value=n.join(""),o.length==n.length&&o[o.length-1].length==n[n.length-1].length?i.target.setAttribute("data-completed","true"):i.target.setAttribute("data-completed","false"),i.preventDefault()}}},e.process=function(e){do{if("mm"==o[t])return null==n[t]||""==n[t]?parseInt(e)>1&&parseInt(e)<10?(n[t]="0"+e,t++,!0):parseInt(e)<10&&(n[t]=e,!0):1==n[t]&&n[t]<2&&parseInt(e)<3?(n[t]+=e,t++,!0):0==n[t]&&n[t]<10&&(n[t]+=e,t++,!0);if("dd"==o[t])return null==n[t]||""==n[t]?parseInt(e)>3&&parseInt(e)<10?(n[t]="0"+e,t++,!0):parseInt(e)<10&&(n[t]=e,!0):3==n[t]&&parseInt(e)<2?(n[t]+=e,t++,!0):n[t]<3&&parseInt(e)<10&&(n[t]+=e,t++,!0);if("hh24"==o[t])return null==n[t]||""==n[t]?parseInt(e)>2&&parseInt(e)<10?(n[t]="0"+e,t++,!0):parseInt(e)<10&&(n[t]=e,!0):2==n[t]&&parseInt(e)<4?(n[t]+=e,t++,!0):n[t]<2&&parseInt(e)<10&&(n[t]+=e,t++,!0);if("hh"==o[t])return null==n[t]||""==n[t]?parseInt(e)>1&&parseInt(e)<10?(n[t]="0"+e,t++,!0):parseInt(e)<10&&(n[t]=e,!0):1==n[t]&&parseInt(e)<3?(n[t]+=e,t++,!0):n[t]<1&&parseInt(e)<10&&(n[t]+=e,t++,!0);if("mi"==o[t]||"ss"==o[t])return null==n[t]||""==n[t]?parseInt(e)>5&&parseInt(e)<10?(n[t]="0"+e,t++,!0):parseInt(e)<10&&(n[t]=e,!0):parseInt(e)<10&&(n[t]+=e,t++,!0);if("yy"==o[t]||"yyyy"==o[t])return parseInt(e)<10&&(null==n[t]||""==n[t]?n[t]=e:n[t]+=e,n[t].length==o[t].length&&t++,!0);if("#"==o[t]||"#.##"==o[t]||"#,##"==o[t]||"# ##"==o[t]){if(e.match(/[0-9]/g)){if("#.##"==o[t])var i=".";else if("#,##"==o[t])i=",";else if("# ##"==o[t])i=" ";else i="";if(null==n[t]||""==n[t])n[t]=e;else if(n[t]+=e,i){n[t]=n[t].match(/[0-9]/g).join("");for(var a=[],r=0,s=n[t].length-1;s>=0;s--)a.push(n[t][s]),++r%3||a.push(i);a=a.reverse(),n[t]=a.join(""),n[t].substr(0,1)==i&&(n[t]=n[t].substr(1))}return!0}if("#.##"==o[t]&&"."==e);else if("#,##"==o[t]&&","==e);else if("# ##"==o[t]&&" "==e);else if(n[t]&&o[++t]){if(o[t]==e)return n[t]=e,!0;if("0"==o[t]&&o[t+1]==e)return n[++t]=e,!0}return!1}if("0"==o[t])return!!e.match(/[0-9]/g)&&(n[t]=e,t++,!0);if("a"==o[t])return!!e.match(/[a-zA-Z]/g)&&(n[t]=e,t++,!0);if(null!=o[t]){if("\\a"==o[t])var l="a";else if("\\0"==o[t])l="0";else if("[-]"==o[t])if("-"==e||"+"==e)l=e;else l=" ";else l=o[t];if(n[t]=l,e==l)return t++,!0}t++}while(o[t])},e.prepare=function(e){o=[];for(var t=0;t<e.length;t++)e[t].match(/[0-9]|[a-z]|\\/g)?"y"==e[t]&&"y"==e[t+1]&&"y"==e[t+2]&&"y"==e[t+3]?(o.push("yyyy"),t+=3):"y"==e[t]&&"y"==e[t+1]?(o.push("yy"),t++):"m"==e[t]&&"m"==e[t+1]&&"m"==e[t+2]&&"m"==e[t+3]?(o.push("mmmm"),t+=3):"m"==e[t]&&"m"==e[t+1]&&"m"==e[t+2]?(o.push("mmm"),t+=2):"m"==e[t]&&"m"==e[t+1]?(o.push("mm"),t++):"d"==e[t]&&"d"==e[t+1]?(o.push("dd"),t++):"h"==e[t]&&"h"==e[t+1]&&"2"==e[t+2]&&"4"==e[t+3]?(o.push("hh24"),t+=3):"h"==e[t]&&"h"==e[t+1]?(o.push("hh"),t++):"m"==e[t]&&"i"==e[t+1]?(o.push("mi"),t++):"s"==e[t]&&"s"==e[t+1]?(o.push("ss"),t++):"a"==e[t]&&"m"==e[t+1]?(o.push("am"),t++):"p"==e[t]&&"m"==e[t+1]?(o.push("pm"),t++):"\\"==e[t]&&"0"==e[t+1]?(o.push("\\0"),t++):"\\"==e[t]&&"a"==e[t+1]?(o.push("\\a"),t++):o.push(e[t]):"#"==e[t]&&"."==e[t+1]&&"#"==e[t+2]&&"#"==e[t+3]?(o.push("#.##"),t+=3):"#"==e[t]&&","==e[t+1]&&"#"==e[t+2]&&"#"==e[t+3]?(o.push("#,##"),t+=3):"#"==e[t]&&" "==e[t+1]&&"#"==e[t+2]&&"#"==e[t+3]?(o.push("# ##"),t+=3):"["==e[t]&&"-"==e[t+1]&&"]"==e[t+2]?(o.push("[-]"),t+=2):o.push(e[t])},e.fromKeyCode=function(e){var t={188:"44",109:"45",190:"46",191:"47",192:"96",220:"92",222:"39",221:"93",219:"91",173:"45",187:"61",186:"59",189:"45"},n={96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"},o=e.which;return t.hasOwnProperty(o)&&(o=t[o]),o=!e.shiftKey&&o>=65&&o<=90?String.fromCharCode(o+32):e.shiftKey&&n.hasOwnProperty(o)?n[o]:96<=o&&o<=105?String.fromCharCode(o-48):String.fromCharCode(o)},e}(),jSuites.mobile=function(e,t){var n={options:{}};return jSuites.el&&jSuites.el.addEventListener("mousedown",function(e){e.target.classList.contains("option-title")&&(e.target.classList.contains("selected")?e.target.classList.remove("selected"):e.target.classList.add("selected"))}),n}(),jSuites.pages=function(){var container=null,current=null,createPage=function(options,callback){var page=document.createElement("div");return page.classList.add("page"),page.style.display="none",page.options=options||{},current?container.insertBefore(page,current.nextSibling):container.appendChild(page),jSuites.ajax({url:page.options.url,method:"GET",success:function(result){jSuites.refresh(page,page.options.onpush),page.innerHTML=result;for(var script=page.getElementsByTagName("script"),i=0;i<script.length;i++){var type=script[i].getAttribute("type");type&&"text/javascript"!=type||eval(script[i].innerHTML)}page.setTitle=function(e){this.children[0].children[0].children[1].innerHTML=e},page.options.closed||showPage(page),"function"==typeof page.options.onload&&page.options.onload(page),"function"==typeof callback&&callback(page)}}),page},showPage=function(e,t,n){if(current)if(current==e)current=e;else{window.scrollTo({top:0}),e.style.display="";var o=Array.prototype.indexOf.call(container.children,current),i=Array.prototype.indexOf.call(container.children,e);"function"==typeof current.options.onleave&&current.options.onleave(current,e,t),jSuites.slideLeft(container,o<i?0:1,function(){current.style.display="none",current=e}),"function"==typeof e.options.onenter&&e.options.onenter(e,current,t)}else e.style.display="",current=e,"function"==typeof e.options.onenter&&e.options.onenter(e);t||window.history.pushState({route:e.options.route},e.options.title,e.options.route),"function"==typeof n&&n(e)},obj=function(e,t){if(container||((container=document.querySelector(".pages"))||((container=document.createElement("div")).className="pages"),jSuites.el?jSuites.el.appendChild(container):document.body.appendChild(container)),obj.pages[e]){if(t){var n=0;if("function"==typeof t)i=t;else"function"==typeof t.onenter&&(obj.pages[e].options.onenter=t.onenter),"function"==typeof t.onleave&&(obj.pages[e].options.onleave=t.onleave),n=t.ignoreHistory?1:0}showPage(obj.pages[e],n,i||null)}else if(e){if("function"==typeof t)var o={},i=t;else o=t||{};if(o.closed=t&&t.closed?1:0,o.route=e,!o.url){var a=e.split("#");o.url=jSuites.pages.path+a[0]+".html"}o.title||(o.title="Untitled"),obj.pages[e]=createPage(o,i||null)}else alert("Error, no route provided")};return obj.pages={},obj.get=function(e){if(obj.pages[e])return obj.pages[e]},obj.getContainer=function(){return container},obj.destroy=function(){current=null,obj.pages={},container&&(container.innerHTML="")},obj}(),jSuites.pages.path="pages",jSuites.panel=function(){var panel=null,obj=function(e){panel||obj.create(jSuites.pages.path+e+".html"),panel.style.display="",panel.classList.contains("panel-left")?jSuites.slideLeft(panel,1):jSuites.slideRight(panel,1)};return obj.create=function(route){if(panel||(panel=document.createElement("div"),panel.classList.add("panel"),panel.classList.add("panel-left"),panel.style.display="none",jSuites.el?jSuites.el.appendChild(panel):document.body.appendChild(panel)),route){var url=jSuites.pages.path+route+".html";jSuites.ajax({url:url,method:"GET",success:function(result){panel.innerHTML=result;for(var script=panel.getElementsByTagName("script"),i=0;i<script.length;i++){var type=script[i].getAttribute("type");type&&"text/javascript"!=type||eval(script[i].innerHTML)}}})}},obj.close=function(){panel&&(panel.classList.contains("panel-left")?jSuites.slideLeft(panel,0,function(){panel.style.display="none"}):jSuites.slideRight(panel,0,function(){panel.style.display="none"}))},obj.get=function(){return panel},obj.destroy=function(){panel.remove(),panel=null},obj}(),jSuites.toolbar=function(e,t){var n={};n.options=t,n.selectItem=function(e){for(var t=i.children,n=0;n<t.length;n++)t[n].classList.remove("selected");e.classList.add("selected")},n.hide=function(){jSuites.slideBottom(o,0,function(){o.style.display="none"})},n.show=function(){o.style.display="",jSuites.slideBottom(o,1)},n.get=function(){return o},n.setBadge=function(e,t){i.children[e].children[1].firstChild.innerHTML=t},n.destroy=function(){o.remove(),o=null};var o=document.createElement("div");o.classList.add("jtoolbar"),o.onclick=function(e){var t=jSuites.getElement(e.target,"jtoolbar-item");t&&n.selectItem(t)};var i=document.createElement("div");o.appendChild(i);for(var a=0;a<t.items.length;a++){var r=document.createElement("div");if(r.classList.add("jtoolbar-item"),t.items[a].route&&(r.setAttribute("data-href",t.items[a].route),jSuites.pages(t.items[a].route,{closed:!0,onenter:function(){n.selectItem(r)}})),t.items[a].icon){var s=document.createElement("i");s.classList.add("material-icons"),s.innerHTML=t.items[a].icon,r.appendChild(s)}var l=document.createElement("div");l.classList.add("jbadge");var d=document.createElement("div");if(d.innerHTML=t.items[a].badge?t.items[a].badge:"",l.appendChild(d),r.appendChild(l),t.items[a].title){var c=document.createElement("span");c.innerHTML=t.items[a].title,r.appendChild(c)}i.appendChild(r)}return e.toolbar=n,e.appendChild(o),n},jSuites.actionsheet=function(){var e=document.createElement("div");e.className="jactionsheet",e.style.display="none";var t=document.createElement("div");t.className="jactionsheet-content",e.appendChild(t);var n=function(o){o&&(n.options=o),t.innerHTML="";for(var i=0;i<n.options.length;i++){var a=document.createElement("div");a.className="jactionsheet-group";for(var r=0;r<n.options[i].length;r++){var s=n.options[i][r],l=document.createElement("div"),d=document.createElement("input");d.type="button",d.value=s.title,s.className&&(d.className=s.className),s.onclick&&(d.onclick=s.onclick),"cancel"==s.action&&(d.style.color="red"),l.appendChild(d),a.appendChild(l)}t.appendChild(a)}e.style.display="",jSuites.el.appendChild(e),jSuites.slideBottom(t,!0)};n.close=function(){"none"!=e.style.display&&jSuites.slideBottom(t,!1,function(){e.remove(),e.style.display="none"})};return e.addEventListener("mouseup",function(e){n.close()}),n.options={},n}(),jSuites.modal=function(e,t){var n={options:{}},o={url:null,onopen:null,onclose:null,closed:!1,width:null,height:null,title:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];!n.options.title&&e.getAttribute("title")&&(n.options.title=e.getAttribute("title"));for(var a=document.createElement("div"),r=0;r<e.children.length;r++)a.appendChild(e.children[r]);n.content=document.createElement("div"),n.content.className="jmodal_content",n.content.innerHTML=e.innerHTML;for(r=0;r<a.children.length;r++)n.content.appendChild(a.children[r]);n.container=document.createElement("div"),n.container.className="jmodal",n.container.appendChild(n.content),n.options.width&&(n.container.style.width=n.options.width),n.options.height&&(n.container.style.height=n.options.height),n.options.title?n.container.setAttribute("title",n.options.title):n.container.classList.add("no-title"),e.innerHTML="",e.style.display="none",e.appendChild(n.container);var s=document.createElement("div");return s.className="jmodal_backdrop",e.appendChild(s),n.open=function(){e.style.display="block";const t=n.container.getBoundingClientRect();jSuites.getWindowWidth()<t.width?(n.container.style.top="",n.container.style.left="",n.container.classList.add("jmodal_fullscreen"),jSuites.slideBottom(n.container,1)):s.style.display="block",jSuites.modal.current=n,"function"==typeof n.options.onopen&&n.options.onopen(e,n)},n.resetPosition=function(){n.container.style.top="",n.container.style.left=""},n.isOpen=function(){return"none"!=e.style.display},n.close=function(){e.style.display="none",s.style.display="",jSuites.modal.current=null,n.container.classList.remove("jmodal_fullscreen"),"function"==typeof n.options.onclose&&n.options.onclose(e,n)},jSuites.modal.hasEvents||(jSuites.modal.current=n,"ontouchstart"in document.documentElement==!0?document.addEventListener("touchstart",jSuites.modal.mouseDownControls):(document.addEventListener("mousedown",jSuites.modal.mouseDownControls),document.addEventListener("mousemove",jSuites.modal.mouseMoveControls),document.addEventListener("mouseup",jSuites.modal.mouseUpControls)),document.addEventListener("keydown",jSuites.modal.keyDownControls),jSuites.modal.hasEvents=!0),n.options.url?jSuites.ajax({url:n.options.url,method:"GET",success:function(e){n.content.innerHTML=e,n.options.closed||n.open()}}):n.options.closed||n.open(),e.modal=n,n},jSuites.modal.current=null,jSuites.modal.position=null,jSuites.modal.keyDownControls=function(e){27==e.which&&jSuites.modal.current&&jSuites.modal.current.close()},jSuites.modal.mouseUpControls=function(e){jSuites.modal.current&&(jSuites.modal.current.container.style.cursor="auto"),jSuites.modal.position=null},jSuites.modal.mouseMoveControls=function(e){if(jSuites.modal.current&&jSuites.modal.position)if(1==e.which||3==e.which){var t=jSuites.modal.position;jSuites.modal.current.container.style.top=t[1]+(e.clientY-t[3])+t[5]/2+"px",jSuites.modal.current.container.style.left=t[0]+(e.clientX-t[2])+t[4]/2+"px",jSuites.modal.current.container.style.cursor="move"}else jSuites.modal.current.container.style.cursor="auto"},jSuites.modal.mouseDownControls=function(e){jSuites.modal.position=[],e.target.classList.contains("jmodal")&&setTimeout(function(){var t=e.target.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0])var n=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY;else n=e.clientX,o=e.clientY;t.width-(n-t.left)<50&&o-t.top<50?setTimeout(function(){jSuites.modal.current.close()},100):e.target.getAttribute("title")&&o-t.top<50&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),jSuites.modal.position=[t.left,t.top,e.clientX,e.clientY,t.width,t.height])},100)},jSuites.notification=function(e){var t={options:{}},n={icon:null,name:"Notification",date:null,title:null,message:null,timeout:4e3,autoHide:!0,closeable:!0};for(var o in n)e&&e.hasOwnProperty(o)?t.options[o]=e[o]:t.options[o]=n[o];var i=document.createElement("div");i.className="jnotification";var a=document.createElement("div");a.className="jnotification-container",i.appendChild(a);var r=document.createElement("div");r.className="jnotification-header",a.appendChild(r);var s=document.createElement("div");if(s.className="jnotification-image",r.appendChild(s),t.options.icon){var l=document.createElement("img");l.src=t.options.icon,s.appendChild(l)}var d=document.createElement("div");if(d.className="jnotification-name",d.innerHTML=t.options.name,r.appendChild(d),1==t.options.closeable){var c=document.createElement("div");c.className="jnotification-close",c.onclick=function(){t.hide()},r.appendChild(c)}var u=document.createElement("div");u.className="jnotification-date",r.appendChild(u);var p=document.createElement("div");if(p.className="jnotification-content",a.appendChild(p),t.options.title){var m=document.createElement("div");m.className="jnotification-title",m.innerHTML=t.options.title,p.appendChild(m)}var f=document.createElement("div");return f.className="jnotification-message",f.innerHTML=t.options.message,p.appendChild(f),t.show=function(){document.body.appendChild(i),jSuites.getWindowWidth()>800?jSuites.fadeIn(i):jSuites.slideTop(i,1)},t.hide=function(){jSuites.getWindowWidth()>800?jSuites.fadeOut(i,function(){i.parentNode.removeChild(i)}):jSuites.slideTop(i,0,function(){i.parentNode.removeChild(i)})},t.show(),1==t.options.autoHide&&setTimeout(function(){t.hide()},t.options.timeout),jSuites.getWindowWidth()<800&&i.addEventListener("swipeup",function(e){t.hide(),e.preventDefault(),e.stopPropagation()}),t},jSuites.rating=function(e,t){var n={options:{}},o={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];e.classList.add("jrating");for(var a=0;a<n.options.number;a++){var r=document.createElement("div");r.setAttribute("data-index",a+1),r.setAttribute("title",n.options.tooltip[a]),e.appendChild(r)}if(n.setValue=function(t){for(var o=0;o<n.options.number;o++)o<t?e.children[o].classList.add("jrating-selected"):(e.children[o].classList.remove("jrating-over"),e.children[o].classList.remove("jrating-selected"));n.options.value=t,"function"==typeof n.options.onchange&&n.options.onchange(e,t)},n.getValue=function(){return n.options.value},n.options.value)for(a=0;a<n.options.number;a++)a<n.options.value&&e.children[a].classList.add("jrating-selected");return e.addEventListener("click",function(e){var t=e.target.getAttribute("data-index");null!=t&&(t==n.options.value?n.setValue(0):n.setValue(t))}),e.addEventListener("mouseover",function(t){for(var o=t.target.getAttribute("data-index"),i=0;i<n.options.number;i++)i<o?e.children[i].classList.add("jrating-over"):e.children[i].classList.remove("jrating-over")}),e.addEventListener("mouseout",function(t){for(var o=0;o<n.options.number;o++)e.children[o].classList.remove("jrating-over")}),e.rating=n,n},jSuites.slider=function(e,t){var n={options:{},currentImage:null};if(t&&(n.options=t),n.options.items=[],e.classList.contains("jslider"))o=e.querySelector("slider-container");else{var o;if(e.classList.add("jslider"),(o=document.createElement("div")).className="jslider-container",e.children.length>0)for(var i=0;i<e.children.length;i++)n.options.items.push(e.children[i]);if(n.options.items.length>0)for(i=0;i<n.options.items.length;i++){n.options.items[i].classList.add("jfile"),(a=n.options.items[i].src.lastIndexOf("/"))<0?n.options.items[i].setAttribute("data-name",n.options.items[i].src):n.options.items[i].setAttribute("data-name",n.options.items[i].src.substr(a+1));var a=n.options.items[i].src.lastIndexOf("/");o.appendChild(n.options.items[i])}e.appendChild(o);var r=document.createElement("div");r.className="jslider-close",r.innerHTML="",r.onclick=function(){n.close()},e.appendChild(r)}if(n.show=function(e){if(!e)e=o.children[0];o.classList.contains("jslider-preview")||(o.classList.add("jslider-preview"),r.style.display="block");for(var t=0;t<o.children.length;t++)o.children[t].style.display="none";e.style.display="block",e.previousSibling?o.classList.add("jslider-left"):o.classList.remove("jslider-left"),e.nextSibling?o.classList.add("jslider-right"):o.classList.remove("jslider-right"),n.currentImage=e},n.open=function(){n.show(),"function"==typeof n.options.onopen&&n.options.onopen(e)},n.close=function(){o.classList.remove("jslider-preview"),o.classList.remove("jslider-left"),o.classList.remove("jslider-right");for(var t=0;t<o.children.length;t++)o.children[t].style.display="";r.style.display="",n.currentImage=null,"function"==typeof n.options.onclose&&n.options.onclose(e)},n.reset=function(){o.innerHTML=""},n.addFile=function(t,i){var a=document.createElement("img");a.setAttribute("data-lastmodified",t.lastmodified),a.setAttribute("data-name",t.name),a.setAttribute("data-size",t.size),a.setAttribute("data-extension",t.extension),a.setAttribute("data-cover",t.cover),a.setAttribute("src",t.file),a.className="jfile",o.appendChild(a),n.options.items.push(a),i||"function"==typeof n.options.onchange&&n.options.onchange(e,t)},n.addFiles=function(e){for(var t=0;t<e.length;t++)n.addFile(e[t])},n.next=function(){n.currentImage.nextSibling&&n.show(n.currentImage.nextSibling)},n.prev=function(){n.currentImage.previousSibling&&n.show(n.currentImage.previousSibling)},n.getData=function(){return jSuites.getFiles(o)},n.options.data&&n.options.data.length)for(i=0;i<n.options.data.length;i++)n.options.data[i]&&n.addFile(n.options.data[i]);if(n.options.allowAttachment){var s=document.createElement("input");s.type="file",s.className="slider-attachment",s.setAttribute("accept","image/*"),s.style.display="none",s.onchange=function(){for(var e=[],t=0;t<this.files.length;t++){if("image"==this.files[t].type.split("/")[0]){var o=this.files[t].name;o=(o=o.split("."))[o.length-1];var i={size:this.files[t].size,name:this.files[t].name,extension:o,cover:0,lastmodified:this.files[t].lastModified};e[t]=new FileReader,e[t].addEventListener("load",function(e){i.file=e.target.result,n.addFile(i)},!1),e[t].readAsDataURL(this.files[t])}else alert("The extension is not allowed")}};var l=document.createElement("i");l.innerHTML="attachment",l.className="jslider-attach material-icons",l.onclick=function(){jSuites.click(s)},e.appendChild(s),e.appendChild(l)}var d=null,c=function(t){if("IMG"==t.target.tagName){t.target;d=setTimeout(function(){"data"==t.target.src.substr(0,4)?t.target.remove():t.target.classList.contains("jremove")?t.target.classList.remove("jremove"):t.target.classList.add("jremove"),"function"==typeof n.options.onchange&&n.options.onchange(e,t.target)},1e3)}},u=function(e){d&&clearTimeout(d),"IMG"==e.target.tagName?e.target.classList.contains("jremove")||n.show(e.target):e.target.clientWidth-e.offsetX<40?n.next():e.offsetX<40&&n.prev()};return o.addEventListener("mousedown",c),o.addEventListener("touchstart",c),o.addEventListener("mouseup",u),o.addEventListener("touchend",u),e.addEventListener("swipeleft",function(e){n.next(),e.preventDefault(),e.stopPropagation()}),e.addEventListener("swiperight",function(e){n.prev(),e.preventDefault(),e.stopPropagation()}),e.slider=n,n},jSuites.sorting=function(e,t){e.classList.add("jsorting"),e.addEventListener("dragstart",function(e){e.target.classList.add("dragging")}),e.addEventListener("dragover",function(e){e.preventDefault(),e.target.clientHeight/2>e.offsetY?(e.path[0].style.borderTop="1px dotted #ccc",e.path[0].style.borderBottom=""):(e.path[0].style.borderTop="",e.path[0].style.borderBottom="1px dotted #ccc")}),e.addEventListener("dragleave",function(e){e.path[0].style.borderTop="",e.path[0].style.borderBottom=""}),e.addEventListener("dragend",function(e){e.path[1].querySelector(".dragging").classList.remove("dragging")}),e.addEventListener("drop",function(e){var t=e.path[1].querySelector(".dragging");e.target.clientHeight/2>e.offsetY?e.path[1].insertBefore(t,e.path[0]):e.path[1].insertBefore(t,e.path[0].nextSibling),e.path[0].style.borderTop="",e.path[0].style.borderBottom=""});for(var n=0;n<e.children.length;n++)e.children[n].setAttribute("draggable","true");return e},jSuites.tabs=function(e,t){var n={options:{}},o={data:null,allowCreate:!1,onload:null,onchange:null,oncreate:null,animation:!1,create:null,autoName:!1,prefixName:"",hideHeaders:!1};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];if(e.classList.add("jtabs"),1==n.options.animation){var a=document.createElement("div");a.className="jtabs-border",e.appendChild(a);var r=function(e){var t=s.children[e].getBoundingClientRect(),n=l.children[e].getBoundingClientRect();a.style.width=t.width+"px",a.style.left=t.left-n.left+"px",a.style.top=t.height+"px"}}if(n.open=function(e){for(var t=0;t<s.children.length;t++)s.children[t].classList.remove("jtabs-selected"),l.children[t]&&l.children[t].classList.remove("jtabs-selected");s.children[e].classList.add("jtabs-selected"),l.children[e]&&l.children[e].classList.add("jtabs-selected"),1==n.options.hideHeaders&&s.children.length<2&&0==n.options.allowCreate?s.style.display="none":(s.style.display="",1==n.options.animation&&setTimeout(function(){r(e)},100))},n.selectIndex=function(e){var t=Array.prototype.indexOf.call(s.children,e);t>=0&&n.open(t)},n.create=function(t,o){"function"==typeof n.options.create?n.options.create():(n.appendElement(t,o),"function"==typeof n.options.oncreate&&n.options.oncreate(e,o))},n.appendElement=function(e,t){if(!e)if(1==n.options.autoName){e=n.options.prefixName;e+=" "+(parseInt(l.children.length)+1)}else e=prompt("Title?","");if(e){var o=document.createElement("div");if(o.innerHTML=e,n.options.allowCreate?s.insertBefore(o,s.lastChild):s.appendChild(o),!t)t=document.createElement("div");l.appendChild(t),n.selectIndex(o)}},n.options.data){e.innerHTML="";var s=document.createElement("div"),l=document.createElement("div");s.classList.add("jtabs-headers"),l.classList.add("jtabs-content"),e.appendChild(s),e.appendChild(l);for(var d=0;d<n.options.data.length;d++){var c=document.createElement("div");s.appendChild(c);var u=document.createElement("div");l.appendChild(u),c.innerHTML=n.options.data[d].title,n.options.data[d].content?u.innerHTML=n.options.data[d].content:n.options.data[d].url&&jSuites.ajax({url:n.options.data[d].url,type:"GET",success:function(e){u.innerHTML=e},complete:function(){"function"==typeof n.options.onload&&(n.options.onload(e),n.open(0))}})}}else if(e.children[0]&&e.children[1]){s=e.children[0],l=e.children[1];s.classList.add("jtabs-headers"),l.classList.add("jtabs-content")}else{e.innerHTML="";s=document.createElement("div"),l=document.createElement("div");s.classList.add("jtabs-headers"),l.classList.add("jtabs-content"),e.appendChild(s),e.appendChild(l)}if(1==n.options.allowCreate){var p=document.createElement("i");p.className="jtabs-add",s.appendChild(p)}return s.addEventListener("click",function(e){"DIV"==e.target.tagName?n.selectIndex(e.target):n.create()}),s.children.length&&n.open(0),e.tabs=n,n},jSuites.tags=function(e,t){var n={options:{}},o={value:null,limit:null,limitMessage:"The limit of entries is: ",search:null,placeholder:null,validation:null,onbeforechange:null,onchange:null,onfocus:null,onblur:null,onload:null,colors:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];var a=null,r=null,s=0,l=0;n.add=function(t,o){if("function"==typeof n.options.onbeforechange){var i=n.options.onbeforechange(e,n,t);null!=i&&(t=i)}if(a&&(a.style.display=""),n.options.limit>0&&e.children.length>=n.options.limit)alert(n.options.limitMessage+" "+n.options.limit);else{var r=u();if(t&&"string"!=typeof t){r&&r.parentNode.classList.contains("jtags")&&(r.innerText.replace("\n","")||e.removeChild(r));for(var s=0;s<=t.length;s++){if(!n.options.limit||e.children.length<n.options.limit)(l=document.createElement("div")).innerHTML=t[s]?t[s]:"<br>",e.appendChild(l)}}else{var l;(l=document.createElement("div")).innerHTML=t||"<br>",r&&r.parentNode.classList.contains("jtags")?e.insertBefore(l,r.nextSibling):e.appendChild(l)}o&&setTimeout(function(){c(l)},0),d(),"function"==typeof n.options.onchange&&n.options.onchange(e,n,t||"")}},n.getData=function(){for(var t=[],o=0;o<e.children.length;o++){var i=n.getValue(o);if(i){var a=e.children[o].getAttribute("data-id");a||(a=i),t.push({id:a,value:i})}}return t},n.getValue=function(t){var o=null;if(null!=t)o=e.children[t].innerText.replace("\n","");else{for(var i=[],a=0;a<e.children.length;a++)(o=e.children[a].innerText.replace("\n",""))&&i.push(n.getValue(a));o=i.join(",")}return o},n.setValue=function(e){if(e=e.trim()){var t=p(e);n.add(t)}},n.reset=function(){e.innerHTML="<div><br></div>"},n.isValid=function(){for(var t=0,n=0;n<e.children.length;n++)e.children[n].classList.contains("jtags_error")&&t++;return 0==t},n.selectIndex=function(e){r="";var t=u();t.innerText=e.children[1].innerText,e.children[1].getAttribute("data-id")&&t.setAttribute("data-id",e.children[1].getAttribute("data-id")),a&&(a.style.display="",a.innerHTML=""),t.classList.remove("jtags_error"),n.add()},n.search=function(t){if(!a){var o=document.createElement("div");o.style.position="relative",e.parentNode.insertBefore(o,e.nextSibling),(a=document.createElement("div")).classList.add("jtags_search"),o.appendChild(a)}var i=t.anchorNode.nodeValue;t.anchorNode.nodeValue&&i!=r&&(r=t.anchorNode.nodeValue,s=0,jSuites.ajax({url:n.options.search+r,method:"GET",dataType:"json",success:function(e){if(a.innerHTML="",e.length){a.style.display="block";for(var t=e.length<11?e.length:10,o=0;o<t;o++){var i=document.createElement("div");0==o&&i.classList.add("selected");var r=document.createElement("img");e[o].image?r.src=e[o].image:r.style.display="none",i.appendChild(r);var s=document.createElement("div");s.setAttribute("data-id",e[o].id),s.innerHTML=e[o].name,i.onclick=function(){n.selectIndex(this)},i.appendChild(s),a.appendChild(i)}}else a.style.display=""}}))},n.destroy=function(){e.removeEventListener("mouseup",v),e.removeEventListener("keydown",f),e.removeEventListener("keyup",h),e.removeEventListener("paste",g),e.removeEventListener("focus",w),e.removeEventListener("blur",y),e.parentNode.removeChild(e)};var d=function(){for(var t=0;t<e.children.length;t++)n.getValue(t)?(e.children[t].classList.add("jtags_label"),"function"==typeof n.options.validation&&(n.getValue(t)?n.options.validation(e.children[t],e.children[t].innerText,e.children[t].getAttribute("data-id"))?e.children[t].classList.remove("jtags_error"):e.children[t].classList.add("jtags_error"):e.children[t].classList.remove("jtags_error"))):e.children[t].classList.remove("jtags_label")},c=function(e){var t=document.createRange(),n=window.getSelection();t.setStart(e,e.innerText.length),t.collapse(!0),n.removeAllRanges(),n.addRange(t)},u=function(){var e=document.getSelection().anchorNode;return e?3==e.nodeType?e.parentNode:e:null},p=function(e){var t=[],n="";if(e=e.trim()){for(var o=0;o<e.length;o++)","==e[o]||";"==e[o]||"\r\n"==e[o]?n&&(t.push(n),n=""):n+=e[o];n&&t.push(n)}return t},m=0,f=function(t){if(m=window.getSelection().anchorOffset,!e.children.length){var o=document.createElement("div");o.innerHTML="<br>",e.appendChild(o)}if(9==t.which||186==t.which||188==t.which)window.getSelection().anchorOffset>1&&(!n.options.limit||e.children.length<n.options.limit)&&n.add("",!0),t.preventDefault();else if(13==t.which){if(a&&""!=a.style.display)n.selectIndex(a.children[s]);else window.getSelection().anchorOffset>1&&(!n.options.limit||e.children.length<n.options.limit)&&n.add("",!0);t.preventDefault()}else 38==t.which?a&&""!=a.style.display&&(a.children[s].classList.remove("selected"),s>0&&s--,a.children[s].classList.add("selected"),t.preventDefault()):40==t.which&&a&&""!=a.style.display&&(a.children[s].classList.remove("selected"),s<9&&s++,a.children[s].classList.add("selected"),t.preventDefault())},h=function(e){if(39==e.which){var t=window.getSelection().anchorOffset;t>1&&t==m&&n.add()}else 13==e.which||38==e.which||40==e.which?e.preventDefault():(l&&clearTimeout(l),l=setTimeout(function(){var e=window.getSelection();n.options.search&&n.search(e),l=null},300));d()},g=function(e){if(e.clipboardData||e.originalEvent.clipboardData){(e.originalEvent||e).clipboardData.getData("text/html");var t=(e.originalEvent||e).clipboardData.getData("text/plain")}else if(window.clipboardData)window.clipboardData.getData("Html"),t=window.clipboardData.getData("Text");n.setValue(t),e.preventDefault()},v=function(t){if(t.target.parentNode&&t.target.parentNode.classList.contains("jtags")&&(t.target.classList.contains("jtags_label")||t.target.classList.contains("jtags_error"))){const n=t.target.getBoundingClientRect();n.width-(t.clientX-n.left)<16&&(e.removeChild(t.target),e.focus())}a&&(a.style.display="")},w=function(t){if((!e.children.length||n.getValue(e.children.length-1))&&(!n.options.limit||e.children.length<n.options.limit)){var o=document.createElement("div");o.innerHTML="<br>",e.appendChild(o)}"function"==typeof n.options.onfocus&&n.options.onfocus(e,n,n.getValue())},y=function(t){a&&setTimeout(function(){a.style.display=""},200);for(var o=0;o<e.children.length-1;o++)n.getValue(o)||e.removeChild(e.children[o]);"function"==typeof n.options.onblur&&n.options.onblur(e,n,n.getValue())};return e.addEventListener("mouseup",v),e.addEventListener("keydown",f),e.addEventListener("keyup",h),e.addEventListener("paste",g),e.addEventListener("focus",w),e.addEventListener("blur",y),e.classList.add("jtags"),e.setAttribute("contenteditable",!0),e.setAttribute("spellcheck",!1),n.options.placeholder&&(e.placeholder=n.options.placeholder),n.options.value?n.setValue(n.options.value):e.innerHTML="<div><br></div>","function"==typeof n.options.onload&&n.options.onload(e,n),e.tags=n,n},jSuites.tracker=function(e,t){var n={options:{}},o={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,onload:null,onbeforesave:null,onsave:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];return n.setUrl=function(e){n.options.url=e},n.load=function(){jSuites.ajax({url:n.options.url,method:"GET",dataType:"json",success:function(t){for(var o=e.querySelectorAll("input, select, textarea"),i=0;i<o.length;i++){var a=o[i].getAttribute("name");t[a]&&(o[i].value=t[a])}"function"==typeof n.options.onload&&n.options.onload(e,t)}})},n.save=function(){var t=n.validate();if(t)jSuites.alert(t);else{var o=n.getElements(!0);if("function"==typeof n.options.onbeforesave)if(!1===(o=n.options.onbeforesave(e,o)))return void console.log("Onbeforesave returned false");jSuites.ajax({url:n.options.url,method:"POST",dataType:"json",data:o,success:function(t){if(jSuites.alert(t.message),"function"==typeof n.options.onsave)n.options.onsave(e,t);n.reset()}})}},n.validateElement=function(t){var o=function(e){return!!new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/).test(e)},i=function(e){return e.classList.add("error"),n.options.submitButton&&n.options.submitButton.setAttribute("disabled",!0),e.getAttribute("data-error")||"There is an error in the form"},a="";return t.value?t.getAttribute("data-email")&&!o(t.value)?a=i(t):t.getAttribute("data-password")&&!o(t.value)?a=i(t):t.classList.contains("error")&&function(t){var o=!1;t.classList.remove("error");for(var i=e.querySelectorAll("input, select, textarea"),a=0;a<i.length;a++)i[a].getAttribute("data-validation")&&i[a].classList.contains("error")&&(o=!0);n.options.submitButton&&(o?n.options.submitButton.setAttribute("disabled",!0):n.options.submitButton.removeAttribute("disabled"))}(t):a=i(t),a},n.validate=function(){for(var t="",o=e.querySelectorAll("input, select, textarea"),i=0;i<o.length;i++)o[i].getAttribute("data-validation")&&(t&&(t+="<br>\r\n"),t+=n.validateElement(o[i]));return t},n.getError=function(){return!!n.validation()},n.setHash=function(){return n.getHash(n.getElements())},n.getHash=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},n.isChanged=function(){var e=n.setHash();return n.options.currentHash!=e},n.resetTracker=function(){n.options.currentHash=n.setHash(),n.options.ignore=!1},n.reset=function(){n.options.currentHash=n.setHash(),n.options.ignore=!1},n.setIgnore=function(e){n.options.ignore=!!e},n.getElements=function(t){for(var n={},o=e.querySelectorAll("input, select, textarea"),i=0;i<o.length;i++){var a=o[i],r=a.name,s=a.value;r&&(n[r]=s)}return 1==t?n:JSON.stringify(n)},setTimeout(function(){n.options.currentHash=n.setHash()},1e3),window.addEventListener("beforeunload",function(e){if(n.isChanged()&&0==n.options.ignore){var t=n.options.message?n.options.message:"o/";return t?(void 0===e&&(e=window.event),e&&(e.returnValue=t),t):void 0}}),e.addEventListener("keyup",function(e){e.target.getAttribute("data-validation")&&n.validateElement(e.target)}),e.tracker=n,n},jSuites});
//# sourceMappingURL=/sm/1acd784b963e693fd9308b740f622a3a3ada902f15342c219c425ad47a826227.map